{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/services/data/result/result.service\";\nimport * as i3 from \"src/services/classes/notifications/notifications.service\";\nimport * as i4 from \"src/services/data/assessment/assessment.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction ScoreSheetDetailsPageComponent_th_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const assessment_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", assessment_r1 == null ? null : assessment_r1.assessmentName, \" \");\n  }\n}\nfunction ScoreSheetDetailsPageComponent_tr_36_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const assessment_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", assessment_r2 == null ? null : assessment_r2.studentScore, \" \");\n  }\n}\nfunction ScoreSheetDetailsPageComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ScoreSheetDetailsPageComponent_tr_36_td_4_Template, 2, 1, \"td\", 20);\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"span\", 36);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const subject_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 5, subject_r3 == null ? null : subject_r3.subjectName), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.studentRecord[i_r4].assesmentAndScores);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subject_r3 == null ? null : subject_r3.cummulativeScore);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subject_r3 == null ? null : subject_r3.grade);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", subject_r3 == null ? null : subject_r3.interpretation, \" \");\n  }\n}\nfunction ScoreSheetDetailsPageComponent_th_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const assessment_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Total \", assessment_r6 == null ? null : assessment_r6.assessmentName, \" \");\n  }\n}\nfunction ScoreSheetDetailsPageComponent_td_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1, \"299\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ScoreSheetDetailsPageComponent = /*#__PURE__*/(() => {\n  class ScoreSheetDetailsPageComponent {\n    constructor(route, resultService, notifyService, assessmentService) {\n      this.route = route;\n      this.resultService = resultService;\n      this.notifyService = notifyService;\n      this.assessmentService = assessmentService;\n      this.teacherComment = {\n        comment: ''\n      };\n    }\n    ngOnInit() {\n      this.studId = this.route.snapshot.params.id;\n      this.studentNameAndReg = JSON.parse(sessionStorage.getItem('student-details'));\n      // (this.studentNameAndReg);\n      this.getStudentScoreSheet();\n      // this.studentResultForm = this.fb.group({\n      //   teacherComment: ['', Validators.required]\n      // });\n    }\n    getStudentScoreSheet() {\n      const classId = sessionStorage.getItem('class-id');\n      this.resultService.getStudentBroadSheet(this.studId, classId).subscribe(data => {\n        if (data.hasErrors === false) {\n          // (data);\n          this.studentRecord = data.payload.breakdowns;\n          this.assessments = data.payload.breakdowns[0].assesmentAndScores;\n          // (this.assessments);\n        }\n      }, error => {\n        this.notifyService.publishMessages(error.errors, 'success', 1);\n      });\n    }\n    submitStudentResult() {\n      const ClassId = sessionStorage.getItem('class-id');\n      // tslint:disable-next-line:radix\n      const classId = parseInt(ClassId);\n      const {\n        comment\n      } = this.teacherComment;\n      const result = {\n        headTeacherComment: '',\n        classTeacherComment: comment,\n        // tslint:disable-next-line:radix\n        studentId: parseInt(this.studId),\n        sessionId: 0,\n        classId,\n        termSequence: 0,\n        classTeacherApprovalStatus: 1,\n        adminApprovalStatus: 0,\n        headTeacherApprovalStatus: 0\n      };\n      // (result);\n      this.assessmentService.submitStudentResultForApproval(result).subscribe(data => {\n        if (data.hasErrors === false) {\n          // (data.payload);\n          this.notifyService.publishMessages(data.payload, 'success', 1);\n        }\n      }, error => {\n        this.notifyService.publishMessages(error.payload, 'danger', 1);\n      });\n    }\n    back() {\n      window.history.back();\n    }\n    static #_ = (() => this.ɵfac = function ScoreSheetDetailsPageComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ScoreSheetDetailsPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ResultService), i0.ɵɵdirectiveInject(i3.NotificationsService), i0.ɵɵdirectiveInject(i4.AssessmentService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ScoreSheetDetailsPageComponent,\n      selectors: [[\"app-score-sheet-details-page\"]],\n      decls: 87,\n      vars: 6,\n      consts: [[1, \"col-md-12\", \"mt-5\", \"mr-3\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\", 3, \"click\"], [\"src\", \"assets/images/svg/breadcrumb.svg\", \"alt\", \"...\", 1, \"mr-3\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"a1\"], [1, \"fc-lblue\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"student-id\"], [1, \"mb-0\"], [1, \"mb-0\", \"fs-12\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"mr-5\"], [\"width\", \"20\", \"height\", \"13\", \"viewBox\", \"0 0 20 13\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M16.125 4.9075C15.8451 3.5244 15.0813 2.27895 13.9642 1.38389C12.8471 0.488827 11.4459 -0.000318697 10 1.55786e-07C7.59167 1.55786e-07 5.5 1.3325 4.45833 3.2825C3.23353 3.41155 2.10084 3.97736 1.27791 4.8712C0.454976 5.76504 -0.000143085 6.92386 3.3744e-08 8.125C3.3744e-08 10.8144 2.24167 13 5 13H15.8333C18.1333 13 20 11.18 20 8.9375C20 6.7925 18.2917 5.05375 16.125 4.9075ZM14.1667 7.3125L10 11.375L5.83333 7.3125H8.33333V4.0625H11.6667V7.3125H14.1667Z\", \"fill\", \"#155b75\"], [1, \"\"], [\"width\", \"17\", \"height\", \"17\", \"viewBox\", \"0 0 17 17\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M13.4577 5.66667H3.54102C2.36518 5.66667 1.41602 6.61583 1.41602 7.79167V12.0417H4.24935V14.875H12.7493V12.0417H15.5827V7.79167C15.5827 6.61583 14.6335 5.66667 13.4577 5.66667ZM11.3327 13.4583H5.66602V9.91667H11.3327V13.4583ZM13.4577 8.5C13.0681 8.5 12.7493 8.18125 12.7493 7.79167C12.7493 7.40208 13.0681 7.08333 13.4577 7.08333C13.8473 7.08333 14.166 7.40208 14.166 7.79167C14.166 8.18125 13.8473 8.5 13.4577 8.5ZM12.7493 2.125H4.24935V4.95833H12.7493V2.125Z\", \"fill\", \"#155b75\"], [1, \"bg-white\", \"mb-3\"], [1, \"table\"], [1, \"w-40\", \"pl-5\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mt-5\", \"ml-5\", \"col-md-10\", \"mb-5\"], [1, \"border-0\", \"bg-transparent\"], [1, \"border-0\"], [1, \"col-md-6\", \"ml-5\", \"mb-5\"], [1, \"form-group\", \"mb-4\"], [\"for\", \"\", 1, \"fw-6\", \"fs-16\"], [\"type\", \"text \", \"placeholder\", \"Enter comment\", \"name\", \"comment\", 1, \"form-control\", \"class-teacher\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text \", \"placeholder\", \"enter comment\", \"readonly\", \"\", 1, \"form-control\", \"head-teacher\"], [1, \"d-flex\"], [1, \"col-md-6\", \"ml-5\", \"d-flex\", \"justify-content-between\"], [1, \"fw-6\", \"mb-3\"], [1, \"breaks\", \"mb-1\"], [1, \"d-flex\", \"justify-content-center\", \"my-5\"], [\"type\", \"button\", 1, \"btn-upload-top\", \"bg-lblue\", \"w-40\", 3, \"click\"], [1, \"pl-5\", \"text-left\", \"student-info\"], [1, \"fs-14\", \"interpretation\"]],\n      template: function ScoreSheetDetailsPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"ol\", 2);\n          i0.ɵɵlistener(\"click\", function ScoreSheetDetailsPageComponent_Template_ol_click_2_listener() {\n            return ctx.back();\n          });\n          i0.ɵɵelement(3, \"img\", 3);\n          i0.ɵɵelementStart(4, \"li\", 4)(5, \"a\", 5);\n          i0.ɵɵtext(6, \"Back\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"p\", 8);\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"p\", 9);\n          i0.ɵɵtext(12, \"HIS/ST/2016/0005\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(15, \"svg\", 12);\n          i0.ɵɵelement(16, \"path\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(17, \" Export \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(18, \"div\", 14);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(19, \"svg\", 15);\n          i0.ɵɵelement(20, \"path\", 16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(21, \" Print \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(22, \"div\", 17)(23, \"table\", 18)(24, \"thead\")(25, \"tr\")(26, \"th\", 19);\n          i0.ɵɵtext(27, \"Subjects\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, ScoreSheetDetailsPageComponent_th_28_Template, 2, 1, \"th\", 20);\n          i0.ɵɵelementStart(29, \"th\");\n          i0.ɵɵtext(30, \"Cummulative Score\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"th\");\n          i0.ɵɵtext(32, \"Grade\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"th\");\n          i0.ɵɵtext(34, \"Interpretation\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(35, \"tbody\");\n          i0.ɵɵtemplate(36, ScoreSheetDetailsPageComponent_tr_36_Template, 12, 7, \"tr\", 20);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"div\", 21)(38, \"table\", 18)(39, \"thead\")(40, \"tr\");\n          i0.ɵɵtemplate(41, ScoreSheetDetailsPageComponent_th_41_Template, 2, 1, \"th\", 20);\n          i0.ɵɵelementStart(42, \"th\");\n          i0.ɵɵtext(43, \"Total Score\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"th\");\n          i0.ɵɵtext(45, \"Total Score Obtained\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(46, \"th\", 22);\n          i0.ɵɵelementStart(47, \"th\");\n          i0.ɵɵtext(48, \"Average\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(49, \"tbody\")(50, \"tr\");\n          i0.ɵɵtemplate(51, ScoreSheetDetailsPageComponent_td_51_Template, 2, 0, \"td\", 20);\n          i0.ɵɵelementStart(52, \"td\");\n          i0.ɵɵtext(53, \"1074\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(54, \"td\")(55, \"td\", 23);\n          i0.ɵɵelementStart(56, \"td\");\n          i0.ɵɵtext(57, \"90%\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(58, \"div\", 24)(59, \"div\", 25)(60, \"label\", 26);\n          i0.ɵɵtext(61, \"Class Teacher's Comment\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(62, \"input\", 27);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ScoreSheetDetailsPageComponent_Template_input_ngModelChange_62_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.teacherComment.comment, $event) || (ctx.teacherComment.comment = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(63, \"div\", 25)(64, \"label\", 26);\n          i0.ɵɵtext(65, \"Head Teacher's Comment\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(66, \"input\", 28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"div\", 29);\n          i0.ɵɵelement(68, \"div\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(69, \"div\", 30)(70, \"div\")(71, \"p\", 31);\n          i0.ɵɵtext(72, \"Signature\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(73, \"div\", 32);\n          i0.ɵɵtext(74, \"\\u00A0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(75, \"p\");\n          i0.ɵɵtext(76, \"(Head Teacher)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(77, \"div\")(78, \"p\", 31);\n          i0.ɵɵtext(79, \"Signature\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(80, \"div\", 32);\n          i0.ɵɵtext(81, \"\\u00A0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(82, \"p\");\n          i0.ɵɵtext(83, \"(Class Teacher)\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(84, \"div\", 33)(85, \"button\", 34);\n          i0.ɵɵlistener(\"click\", function ScoreSheetDetailsPageComponent_Template_button_click_85_listener() {\n            return ctx.submitStudentResult();\n          });\n          i0.ɵɵtext(86, \" Submit \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(ctx.studentNameAndReg == null ? null : ctx.studentNameAndReg.studentName);\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngForOf\", ctx.assessments);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngForOf\", ctx.studentRecord);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.assessments);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngForOf\", ctx.assessments);\n          i0.ɵɵadvance(11);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.teacherComment.comment);\n        }\n      },\n      dependencies: [i5.NgForOf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i5.TitleCasePipe],\n      styles: [\".breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:.75rem 0;margin-bottom:1rem;list-style:none;background-color:transparent;border-radius:.25rem;cursor:pointer}a[_ngcontent-%COMP%]{color:#1b5bac;font-weight:400;cursor:pointer}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#1b5bac;content:\\\">\\\";font-size:10px;display:none}.btn-orange-two[_ngcontent-%COMP%]{background:#04aed4;border-radius:5px;height:44px;font-family:Nunito;font-style:normal;font-weight:600;font-size:15px;line-height:20px;color:#fff}.btn-upload-top[_ngcontent-%COMP%]{border:none;outline:none;padding:11px 25px;color:#fff;border-radius:10px}.search[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem;background:#fefeff;border:1px solid #abc3df;box-sizing:border-box;border-radius:5px;font-size:12px;font-weight:400}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#abc3df}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#abc3df}input[type=text][_ngcontent-%COMP%]{width:125%}select[_ngcontent-%COMP%]{background:#fafafa;border:1px solid #92b5dd;font-size:12px}.grade-container[_ngcontent-%COMP%]{height:100vh}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebf0f5;border:1px solid #b4cde9;font-size:16px;color:#355691;font-weight:400}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;text-align:center}.w-40[_ngcontent-%COMP%]{width:30%}.student-id[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#355691;font-size:18px}.student-info[_ngcontent-%COMP%]{color:#355691}.interpretation[_ngcontent-%COMP%]{font-weight:600;width:100px;height:26px;display:flex;justify-content:center;align-items:center}.excellent[_ngcontent-%COMP%]{background:#ebfffa;color:#09b78a}.fail[_ngcontent-%COMP%]{background:#f1dfe2;color:#d80027}.very-good[_ngcontent-%COMP%]{background:#e5f4d3;color:#7ec02e}.good[_ngcontent-%COMP%]{background:#f1efdf;color:#c1ac00}.fair[_ngcontent-%COMP%]{background:#d9ce98;color:#650}.head-teacher[_ngcontent-%COMP%]::placeholder{font-size:16px;line-height:16px;color:#d1d9df}.breaks[_ngcontent-%COMP%]{border-bottom:2px dotted black}\"]\n    }))();\n  }\n  return ScoreSheetDetailsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}