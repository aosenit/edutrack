{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/services/data/time-table/time-table.service\";\nimport * as i3 from \"src/services/classes/notifications/notifications.service\";\nimport * as i4 from \"@angular/common\";\nfunction PeriodComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵelement(4, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 43);\n    i0.ɵɵelement(6, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 41);\n    i0.ɵɵelement(8, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 41);\n    i0.ɵɵelement(10, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 41);\n    i0.ɵɵelement(12, \"img\", 42);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const period_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", period_r1 == null ? null : period_r1.name, \" \");\n  }\n}\nfunction PeriodComponent_p_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 44);\n    i0.ɵɵtext(1, \" You have created periods before. Please note, publishing another period after creating it initially will clear the previous one\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PeriodComponent_p_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 44);\n    i0.ɵɵtext(1, \" You are yet to set up period. Please note, publishing another period after creating it now will clear the previous one\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let PeriodComponent = /*#__PURE__*/(() => {\n  class PeriodComponent {\n    constructor(fb, timetableService, notifyService) {\n      this.fb = fb;\n      this.timetableService = timetableService;\n      this.notifyService = notifyService;\n      this.periods = [];\n      this.periodStep = 0;\n      this.load = false;\n    }\n    ngOnInit() {\n      this.addPeriodForm = this.fb.group({\n        name: ['', Validators.required],\n        timeFrom: ['', Validators.required],\n        timeTo: ['', Validators.required],\n        isBreak: false\n      });\n      this.getAllPeriods();\n    }\n    getAllPeriods() {\n      this.timetableService.getPeriods().subscribe(data => {\n        if (data.hasErrors === false) {\n          sessionStorage.setItem('periods', JSON.stringify(data.payload));\n          const periods = JSON.parse(sessionStorage.getItem('periods'));\n          this.periodName = periods;\n          // ('periods', this.periodName);\n          this.notify();\n          // // (this.periods);\n        }\n      });\n    }\n    addPeriod() {\n      sessionStorage.removeItem('periods');\n    }\n    allowBreak(event) {}\n    createPeriod() {\n      const step = this.periodStep++;\n      const {\n        name,\n        timeFrom,\n        timeTo,\n        isBreak\n      } = this.addPeriodForm.value;\n      const results = {\n        step,\n        name,\n        timeFrom,\n        timeTo,\n        isBreak\n      };\n      document.getElementById('myModal').click();\n      this.periods.push(results);\n      this.periodName = this.periods;\n      // // ('periods', this.periodName);\n      this.addPeriodForm.reset();\n      this.addPeriodForm.controls.isBreak.setValue(false);\n    }\n    publishPeriods() {\n      this.timetableService.createPeriod(this.periods).subscribe(data => {\n        // // (data);\n        if (data.hasErrors === false) {\n          sessionStorage.setItem('periods', JSON.stringify(data.payload));\n          this.notifyService.publishMessages('All period successfully published ', 'info', 1);\n        } else {\n          this.notifyService.publishMessages(data.errors, 'danger', 1);\n        }\n      }, error => {\n        this.notifyService.publishMessages(error.errors, 'danger', 1);\n      });\n    }\n    notify() {\n      setTimeout(() => {\n        document.getElementById('popupBtn').click();\n      }, 2000);\n    }\n    static #_ = (() => this.ɵfac = function PeriodComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PeriodComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TimeTableService), i0.ɵɵdirectiveInject(i3.NotificationsService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PeriodComponent,\n      selectors: [[\"app-period\"]],\n      decls: 77,\n      vars: 6,\n      consts: [[1, \"banner\", \"mb-4\", \"pb-3\"], [1, \"pt-5\", \"pl-3\", \"content\"], [1, \"banner__text-primary\", \"fw-6\"], [1, \"\"], [\"id\", \"popupBtn\", \"data-target\", \"#advertModal\", \"data-toggle\", \"modal\", 2, \"display\", \"none\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [1, \"btn\", \"btn-orange-two\", \"px-5\", 3, \"click\", \"disabled\"], [1, \"my-5\"], [1, \"row\"], [1, \"col-md-2\", \"text-center\"], [1, \"container-fluid\"], [\"class\", \"row \", 4, \"ngFor\", \"ngForOf\"], [\"data-toggle\", \"modal\", \"data-target\", \"#exampleModalCenterLevel\", 1, \"\"], [\"src\", \"assets/images/svg/add-period.svg\", \"alt\", \"time table button\"], [1, \"fc-orange\", 3, \"click\"], [\"id\", \"exampleModalCenterLevel\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterLevelTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\", \"modal-length\"], [1, \"modal-content\"], [1, \"modal-head\", \"mb-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"modal-title\", \"fc-lblue\"], [\"src\", \"assets/images/svg/close-modal.svg\", \"alt\", \"modal close button\", \"id\", \"myModal\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [1, \"modal-body\", \"client-modal\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\", \"mb-4\"], [\"for\", \"name\", 1, \"\"], [1, \"text-danger\"], [\"type\", \"text\", \"placeholder\", \"Enter period name\", \"formControlName\", \"name\", 1, \"form-control\"], [\"for\", \"level\", 1, \"\"], [\"type\", \"time\", \"placeholder\", \"Enter period name\", \"formControlName\", \"timeFrom\", 1, \"form-control\"], [\"type\", \"time\", \"placeholder\", \"Enter period name\", \"formControlName\", \"timeTo\", 1, \"form-control\"], [1, \"custom-control\", \"custom-checkbox\", 3, \"change\"], [\"type\", \"checkbox\", \"id\", \"customCheckTh\", \"formControlName\", \"isBreak\", 1, \"custom-control-input\"], [\"for\", \"customCheckTh\", 1, \"custom-control-label\"], [1, \"d-flex\", \"justify-content-center\", \"mb-3\"], [\"type\", \"button \", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-outline-orange\", \"px-5\", \"mb-4\", \"mt-3\", \"mb-3\", \"mr-3\"], [1, \"btn\", \"btn-orange-two\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"disabled\"], [\"id\", \"advertModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"advertModalTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-body\", \"h-50\", \"d-flex\", \"justify-content-between\", \"align-items-center\", \"client-modal\"], [\"class\", \"text-danger text-center mb-5\", 4, \"ngIf\"], [1, \"col-md-2\"], [1, \"col-md-2\", \"border\", \"d-flex\", \"justify-content-center\"], [\"src\", \"assets/images/svg/time-table.svg\", \"alt\", \"time table button\"], [1, \"col-md-2\", \"border\", \"py-3\"], [1, \"text-danger\", \"text-center\", \"mb-5\"]],\n      template: function PeriodComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"h6\", 2);\n          i0.ɵɵtext(3, \" Period \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 3);\n          i0.ɵɵtext(5, \" Setup period for different class levels \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(6, \"button\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5);\n          i0.ɵɵelement(8, \"div\");\n          i0.ɵɵelementStart(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function PeriodComponent_Template_button_click_9_listener() {\n            return ctx.publishPeriods();\n          });\n          i0.ɵɵtext(10, \" Publish \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8);\n          i0.ɵɵelement(13, \"div\", 9);\n          i0.ɵɵelementStart(14, \"div\", 9);\n          i0.ɵɵtext(15, \" Monday \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 9);\n          i0.ɵɵtext(17, \" Tuesday \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 9);\n          i0.ɵɵtext(19, \" Wednesday \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"div\", 9);\n          i0.ɵɵtext(21, \" Thursday \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 9);\n          i0.ɵɵtext(23, \" Friday \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"div\", 10);\n          i0.ɵɵtemplate(25, PeriodComponent_div_25_Template, 13, 1, \"div\", 11);\n          i0.ɵɵelementStart(26, \"div\", 12);\n          i0.ɵɵelement(27, \"img\", 13);\n          i0.ɵɵelementStart(28, \"p\", 14);\n          i0.ɵɵlistener(\"click\", function PeriodComponent_Template_p_click_28_listener() {\n            return ctx.addPeriod();\n          });\n          i0.ɵɵtext(29, \"Add period\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(30, \"div\", 15)(31, \"div\", 16)(32, \"div\", 17)(33, \"div\", 18)(34, \"div\", 19)(35, \"h6\", 20);\n          i0.ɵɵtext(36, \"Add Period\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"img\", 21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"div\", 22)(39, \"form\", 23);\n          i0.ɵɵlistener(\"ngSubmit\", function PeriodComponent_Template_form_ngSubmit_39_listener() {\n            return ctx.createPeriod();\n          });\n          i0.ɵɵelementStart(40, \"div\", 24)(41, \"label\", 25);\n          i0.ɵɵtext(42, \"Period Name \");\n          i0.ɵɵelementStart(43, \"span\", 26);\n          i0.ɵɵtext(44, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(45, \"input\", 27);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"div\", 24)(47, \"label\", 28);\n          i0.ɵɵtext(48, \"Start Time \");\n          i0.ɵɵelementStart(49, \"span\", 26);\n          i0.ɵɵtext(50, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(51, \"input\", 29);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(52, \"div\", 24)(53, \"label\", 28);\n          i0.ɵɵtext(54, \"End Time \");\n          i0.ɵɵelementStart(55, \"span\", 26);\n          i0.ɵɵtext(56, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(57, \"input\", 30);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(58, \"div\", 31);\n          i0.ɵɵlistener(\"change\", function PeriodComponent_Template_div_change_58_listener($event) {\n            return ctx.allowBreak($event.target.checked);\n          });\n          i0.ɵɵelement(59, \"input\", 32);\n          i0.ɵɵelementStart(60, \"label\", 33);\n          i0.ɵɵtext(61, \"Allow break\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(62, \"div\", 34)(63, \"button\", 35);\n          i0.ɵɵtext(64, \"Cancel \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(65, \"button\", 36);\n          i0.ɵɵtext(66, \" Add Period\");\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(67, \"div\", 37)(68, \"div\", 16)(69, \"div\", 17)(70, \"div\", 18)(71, \"div\", 19);\n          i0.ɵɵelement(72, \"h6\", 20)(73, \"img\", 21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(74, \"div\", 38);\n          i0.ɵɵtemplate(75, PeriodComponent_p_75_Template, 2, 0, \"p\", 39)(76, PeriodComponent_p_76_Template, 2, 0, \"p\", 39);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"disabled\", (ctx.periodName == null ? null : ctx.periodName.length) == 0);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngForOf\", ctx.periodName);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"formGroup\", ctx.addPeriodForm);\n          i0.ɵɵadvance(26);\n          i0.ɵɵproperty(\"disabled\", ctx.addPeriodForm.invalid);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", (ctx.periodName == null ? null : ctx.periodName.length) > 1);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (ctx.periodName == null ? null : ctx.periodName.length) == 0);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".banner[_ngcontent-%COMP%]{width:100%;background-image:url(user-role-bg.png);background-color:#1d4e4d;background-repeat:no-repeat;background-size:cover;background-position:center;border-radius:10px;display:flex;justify-content:space-between;align-items:flex-end;padding:0 1.5rem;color:#fff;background-blend-mode:multiply;mix-blend-mode:multiply;-webkit-backdrop-filter:opacity(.4);backdrop-filter:opacity(.4)}.banner__text-primary[_ngcontent-%COMP%]{font-size:36px}select[_ngcontent-%COMP%]{background:#fafafa;border:1px solid #92B5DD;font-size:14px}.modal-content[_ngcontent-%COMP%]{border-radius:0!important;border:none;position:relative}.modal-head[_ngcontent-%COMP%]{padding:20px 40px;background:#ebf0f5}.client-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 40px}form[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{height:150px}.close[_ngcontent-%COMP%]{cursor:pointer}h6[_ngcontent-%COMP%]{font-weight:700;font-weight:600}\"]\n    }))();\n  }\n  return PeriodComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}