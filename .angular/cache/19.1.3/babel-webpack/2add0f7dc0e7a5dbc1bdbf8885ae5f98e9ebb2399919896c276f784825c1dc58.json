{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/services/data/assignment/assignment.service\";\nimport * as i3 from \"src/services/classes/notifications/notifications.service\";\nimport * as i4 from \"src/services/data/lesson-note/lesson-note.service\";\nimport * as i5 from \"src/services/data/class-work/class-work.service\";\nimport * as i6 from \"@angular/common\";\nfunction TaskPreviewComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"iframe\", 25);\n    i0.ɵɵpipe(2, \"trustedUrl\");\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"dOCUMENT VIEWR GOES HERE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(2, 1, \" data:image/png;base64,\" + (ctx_r0.fileDetails == null ? null : ctx_r0.fileDetails.file)), i0.ɵɵsanitizeResourceUrl);\n  }\n}\nfunction TaskPreviewComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"iframe\", 25);\n    i0.ɵɵpipe(2, \"trustedUrl\");\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"dOCUMENT VIEWR GOES HERE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(2, 1, \" data:image/jpg;base64,\" + (ctx_r0.fileDetails == null ? null : ctx_r0.fileDetails.file)), i0.ɵɵsanitizeResourceUrl);\n  }\n}\nfunction TaskPreviewComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"iframe\", 25);\n    i0.ɵɵpipe(2, \"trustedUrl\");\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"dOCUMENT VIEWR GOES HERE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(2, 1, \" data:image/jpeg;base64,\" + (ctx_r0.fileDetails == null ? null : ctx_r0.fileDetails.file)), i0.ɵɵsanitizeResourceUrl);\n  }\n}\nfunction TaskPreviewComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"iframe\", 25);\n    i0.ɵɵpipe(2, \"trustedUrl\");\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"dOCUMENT VIEWR GOES HERE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(2, 1, \"data:application/pdf;base64,\" + (ctx_r0.fileDetails == null ? null : ctx_r0.fileDetails.file)), i0.ɵɵsanitizeResourceUrl);\n  }\n}\nfunction TaskPreviewComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"iframe\", 25);\n    i0.ɵɵpipe(2, \"trustedUrl\");\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"dOCUMENT VIEWR GOES HERE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(2, 1, \"data:text/plain;base64,\" + (ctx_r0.fileDetails == null ? null : ctx_r0.fileDetails.file)), i0.ɵɵsanitizeResourceUrl);\n  }\n}\nfunction TaskPreviewComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 26)(2, \"div\", 27);\n    i0.ɵɵelement(3, \"img\", 28);\n    i0.ɵɵelementStart(4, \"p\", 29);\n    i0.ɵɵtext(5, \"Sorry, you cant preview this file but you can download.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 30);\n    i0.ɵɵlistener(\"click\", function TaskPreviewComponent_div_44_Template_p_click_6_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.downloadFile());\n    });\n    i0.ɵɵelementStart(7, \"a\");\n    i0.ɵɵtext(8, \" Click here to download\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nexport let TaskPreviewComponent = /*#__PURE__*/(() => {\n  class TaskPreviewComponent {\n    constructor(route, assignmentService, notifyService, lessonNoteService, classWorkServie) {\n      this.route = route;\n      this.assignmentService = assignmentService;\n      this.notifyService = notifyService;\n      this.lessonNoteService = lessonNoteService;\n      this.classWorkServie = classWorkServie;\n    }\n    ngOnInit() {\n      this.id = this.route.snapshot.params.id;\n      // (this.id);\n      this.getPreviewDetails();\n    }\n    getPreviewDetails() {\n      this.savedDetails = JSON.parse(sessionStorage.getItem('student-assignment'));\n      if (this.savedDetails.type !== undefined && this.savedDetails.type === 'Lesson Note') {\n        this.getLessonNoteDetails();\n      } else if (this.savedDetails.type !== undefined && this.savedDetails.type === 'Classwork') {\n        this.getClassWorkDetails();\n      } else {\n        this.getAssignmentDetails();\n      }\n    }\n    getAssignmentDetails() {\n      this.assignmentService.getAssignmentDetails(this.id).subscribe(data => {\n        if (data.hasErrors === false) {\n          // ('assignment Notes', data);\n          this.fileDetails = data.payload;\n        }\n      }, error => {\n        this.notifyService.publishMessages(error.errors, 'danger', 1);\n      });\n    }\n    getLessonNoteDetails() {\n      this.lessonNoteService.getSinglelessonNoteDetail(this.id).subscribe(data => {\n        if (data.hasErrors === false) {\n          // ('assignment Notes', data);\n          this.fileDetails = data.payload;\n        }\n      }, error => {\n        this.notifyService.publishMessages(error.errors, 'danger', 1);\n      });\n    }\n    getClassWorkDetails() {\n      this.classWorkServie.getClassWorkDetails(this.id).subscribe(data => {\n        if (data.hasErrors === false) {\n          // ('assignment Notes', data);\n          this.fileDetails = data.payload;\n        }\n      }, error => {\n        this.notifyService.publishMessages(error.errors, 'danger', 1);\n      });\n    }\n    downloadFile() {\n      if (this.fileDetails.fileType === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {\n        const link = document.createElement('a');\n        link.download = `${this.fileDetails.fileName}.docx`;\n        link.href = 'data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,' + this.fileDetails.file;\n        link.click();\n      } else {\n        const link = document.createElement('a');\n        link.download = `${this.fileDetails.fileName}.docx`;\n        link.href = 'data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,' + this.fileDetails.file;\n        link.click();\n      }\n    }\n    back() {\n      window.history.back();\n    }\n    ngOnDestroy() {\n      sessionStorage.removeItem('student-assignment');\n    }\n    static #_ = (() => this.ɵfac = function TaskPreviewComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TaskPreviewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AssignmentService), i0.ɵɵdirectiveInject(i3.NotificationsService), i0.ɵɵdirectiveInject(i4.LessonNoteService), i0.ɵɵdirectiveInject(i5.ClassWorkService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TaskPreviewComponent,\n      selectors: [[\"app-task-preview\"]],\n      decls: 45,\n      vars: 18,\n      consts: [[1, \"container-fluid\"], [1, \"row\"], [\"id\", \"announcement\", 1, \"col-md-3\", \"bg-white\", \"px-4\", \"pt-4\", \"notice-board\", \"d-flex\", \"flex-column\"], [1, \"d-flex\", \"flex-column\", \"mt-3\", \"h-100\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\"], [\"src\", \"assets/images/svg/breadcrumb.svg\", \"alt\", \"...\", 1, \"mr-3\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"a1\", 3, \"click\"], [1, \"fc-lblue\"], [1, \"information\"], [1, \"d-flex\", \"flex-column\", \"justify-content-start\", \"mb-3\"], [1, \"mb-0\", \"pb-1\", \"topic\", \"fw-6\"], [1, \"d-flex\"], [1, \"subject-holder\", \"px-2\", \"mr-2\"], [1, \"mb-0\", \"attachment\"], [\"src\", \"assets/images/svg/attachment.svg\", \"alt\", \"new client\", 1, \"mr-1\"], [1, \"d-flex\", \"w-50\"], [\"src\", \"assets/images/svg/g-calendar.svg\", \"alt\", \"\", 1, \"mr-3\"], [1, \"d-flex\", \"flex-column\", \"justify-content-center\"], [1, \"mb-0\", \"fs-14\"], [1, \"mb-0\", \"fs-13\"], [\"src\", \"assets/images/svg/g-time.svg\", \"alt\", \"\", 1, \"mr-3\"], [1, \"col-md-9\", \"mt-3\", \"p-4\"], [\"class\", \"col-md-12\", 4, \"ngIf\"], [1, \"col-md-12\"], [1, \"file-viewer\", \"p-3\", \"bg-white\", \"w-100\", 2, \"height\", \"85vh\", \"width\", \"100%\", 3, \"src\"], [1, \"file-viewer\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"p-3\", \"bg-white\", \"w-100\", 2, \"height\", \"85vh\", \"width\", \"100%\"], [1, \"d-flex\", \"flex-column\", \"text-center\"], [\"src\", \"assets/images/svg/sad-face.svg\", \"alt\", \"table sort icon\", 1, \"mb-3\"], [1, \"fw-6\"], [1, \"download\", 3, \"click\"]],\n      template: function TaskPreviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"nav\", 4)(5, \"ol\", 5);\n          i0.ɵɵelement(6, \"img\", 6);\n          i0.ɵɵelementStart(7, \"li\", 7);\n          i0.ɵɵlistener(\"click\", function TaskPreviewComponent_Template_li_click_7_listener() {\n            return ctx.back();\n          });\n          i0.ɵɵelementStart(8, \"a\", 8);\n          i0.ɵɵtext(9, \"Back\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 10)(12, \"p\", 11);\n          i0.ɵɵtext(13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 12)(15, \"span\", 13);\n          i0.ɵɵtext(16);\n          i0.ɵɵpipe(17, \"titlecase\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"p\", 14);\n          i0.ɵɵelement(19, \"img\", 15);\n          i0.ɵɵtext(20, \" 1 Attachment\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 12)(22, \"div\", 16);\n          i0.ɵɵelement(23, \"img\", 17);\n          i0.ɵɵelementStart(24, \"div\", 18)(25, \"p\", 19);\n          i0.ɵɵtext(26);\n          i0.ɵɵpipe(27, \"date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"p\", 20);\n          i0.ɵɵtext(29, \"Due Date\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(30, \"div\", 16);\n          i0.ɵɵelement(31, \"img\", 21);\n          i0.ɵɵelementStart(32, \"div\", 18)(33, \"p\", 19);\n          i0.ɵɵtext(34);\n          i0.ɵɵpipe(35, \"date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"p\", 20);\n          i0.ɵɵtext(37, \"Due Time\");\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(38, \"div\", 22);\n          i0.ɵɵtemplate(39, TaskPreviewComponent_div_39_Template, 5, 3, \"div\", 23)(40, TaskPreviewComponent_div_40_Template, 5, 3, \"div\", 23)(41, TaskPreviewComponent_div_41_Template, 5, 3, \"div\", 23)(42, TaskPreviewComponent_div_42_Template, 5, 3, \"div\", 23)(43, TaskPreviewComponent_div_43_Template, 5, 3, \"div\", 23)(44, TaskPreviewComponent_div_44_Template, 9, 0, \"div\", 23);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵtextInterpolate1(\" \", ctx.savedDetails == null ? null : ctx.savedDetails.name, \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 10, ctx.fileDetails == null ? null : ctx.fileDetails.subjectName));\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(27, 12, ctx.savedDetails == null ? null : ctx.savedDetails.dueDate, \"mediumDate\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(35, 15, ctx.savedDetails == null ? null : ctx.savedDetails.dueDate, \"shortTime\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"image/png\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"image/jpeg\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"image/jpeg\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"application/pdf\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"text/plain\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || (ctx.fileDetails == null ? null : ctx.fileDetails.fileType) === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n        }\n      },\n      dependencies: [i6.NgIf, i6.TitleCasePipe, i6.DatePipe],\n      styles: [\"#announcement[_ngcontent-%COMP%]{position:sticky;height:100vh;z-index:9;margin:0 auto;right:-81px}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:.75rem 0;margin-bottom:1rem;list-style:none;background-color:transparent;border-radius:.25rem;cursor:pointer}a[_ngcontent-%COMP%], .download[_ngcontent-%COMP%]{color:#1b5bac;font-weight:400;cursor:pointer}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;color:#1b5bac;content:\\\">\\\";font-size:10px;display:none}.modal-content[_ngcontent-%COMP%]{border-radius:0!important;border:none;position:relative}.notice-board[_ngcontent-%COMP%]{position:relative}.notice-board[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{border-bottom:1px solid #abc3df}.subject-holder[_ngcontent-%COMP%]{background:#eaf0ff;border-radius:5px;font-weight:600;font-size:12px;line-height:16px;display:flex;align-items:center;color:#155b75}.attachment[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;color:#979797}\"]\n    }))();\n  }\n  return TaskPreviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}