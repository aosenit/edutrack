{"ast":null,"code":"import { JwtHelperService } from '@auth0/angular-jwt';\nimport { Chart } from 'chart.js';\nimport { DatePipe } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/data/student/student.service\";\nimport * as i2 from \"src/services/data/teacher/teacher.service\";\nimport * as i3 from \"src/services/data/staff/staff.service\";\nimport * as i4 from \"src/services/data/finance/finance.service\";\nimport * as i5 from \"src/services/data/class/class.service\";\nimport * as i6 from \"src/services/data/attendance/attendance.service\";\nimport * as i7 from \"src/services/classes/notifications/notifications.service\";\nimport * as i8 from \"src/services/data/school/school.service\";\nimport * as i9 from \"src/services/data/alumni/alumni.service\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/forms\";\nimport * as i12 from \"@angular/router\";\nconst _c0 = [\"lineChart\"];\nconst _c1 = [\"barChart\"];\nfunction DashboardComponent_option_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const class_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", class_r2 == null ? null : class_r2.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate((class_r2 == null ? null : class_r2.name) + \" \" + (class_r2 == null ? null : class_r2.classGroup));\n  }\n}\nfunction DashboardComponent_tr_118_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 54)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const event_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", event_r3.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(8, 4, event_r3.startDate, \"mediumDate\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r3.type);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(studentService, teacherService, staffService, finance, classService, attendance, notifyService, school, alumni, pipe) {\n      this.studentService = studentService;\n      this.teacherService = teacherService;\n      this.staffService = staffService;\n      this.finance = finance;\n      this.classService = classService;\n      this.attendance = attendance;\n      this.notifyService = notifyService;\n      this.school = school;\n      this.alumni = alumni;\n      this.pipe = pipe;\n      this.studentCount = 0;\n      this.p = 1;\n      this.itemsPerPage = 5;\n      this.staffCount = 0;\n      this.staffCount2 = 0;\n      this.allFee = 0;\n      this.chart = [];\n      this.barChart = [];\n      this.dashboardDatas = [];\n      this.allowFinanceModule = false;\n    }\n    ngOnInit() {\n      const helper = new JwtHelperService();\n      this.adminDetails = helper.decodeToken(localStorage.getItem('access_token'));\n      this.loginDate = this.adminDetails.last_login_time + ' ' + 'UTC';\n      this.greeting();\n      this.getAllStudents();\n      this.getAllEmployees();\n      this.getAllPayment();\n      this.getAllClassesInSchool();\n      this.getSubscriptionStatus();\n      this.getAllAlumiEvents();\n      if (this.adminDetails.UserType === 'SchoolAdmin') {\n        this.allowFinanceModule = true;\n      }\n      const finance = ['FINANCE_CREATE', 'FINANCE_READ', 'FINANCE_UPDATE', 'FINANCE_DELETE'];\n      if (this.adminDetails.Permission !== null || this.adminDetails.Permission !== undefined) {\n        // tslint:disable-next-line:prefer-for-of\n        for (let index = 0; index < finance.length; index++) {\n          const element = finance[index];\n          if (this.adminDetails.Permission.includes(element) && this.adminDetails.UserType === 'NonTeachingStaff') {\n            this.allowFinanceModule = true;\n          }\n        }\n      }\n      console.log(this.allowFinanceModule);\n    }\n    greeting() {\n      const myDate = new Date();\n      const hrs = myDate.getHours();\n      if (hrs < 12) {\n        this.greet = 'Good Morning';\n      } else if (hrs >= 12 && hrs <= 17) {\n        this.greet = 'Good Afternoon';\n      } else if (hrs >= 17 && hrs <= 24) {\n        this.greet = 'Good Evening';\n      }\n    }\n    getAllStudents() {\n      this.studentService.getAllStudents(this.p, this.itemsPerPage).subscribe(data => {\n        if (data.hasErrors === false) {\n          this.studentCount = data.totalCount;\n        }\n      });\n    }\n    getAllEmployees() {\n      this.staffService.getAllStaffInSchool().subscribe(data => {\n        if (data.hasErrors === false) {\n          this.staffCount = data.payload;\n          this.staffCount = data.payload.length;\n        }\n      });\n      this.teacherService.getAllTeachers().subscribe(data => {\n        if (data.hasErrors === false) {\n          this.staffCount2 = data.totalCount;\n        }\n      });\n    }\n    getAllPayment() {\n      this.finance.getAllTransactions().subscribe(data => {\n        if (data.hasErrors === false) {\n          this.allPaymentList = data.payload;\n          const revenue = [];\n          const totalPaid = [];\n          // tslint:disable-next-line:prefer-for-of\n          for (let i = 0; i < this.allPaymentList.length; i++) {\n            this.allFee += this.allPaymentList[i].amount;\n            revenue.push(this.allPaymentList[i].totalAmount);\n            this.totalRevenue = revenue.reduce((a, b) => a + b, 0);\n            totalPaid.push(this.allPaymentList[i].amount);\n            this.allFee2 = totalPaid.reduce((a, b) => a + b, 0);\n          }\n          this.dashboardDatas.push(this.totalRevenue);\n          this.dashboardDatas.push(this.allFee2);\n          this.createLineChart(this.dashboardDatas);\n          // this.createBarChart(this.dashboardDatas);\n        }\n      });\n    }\n    getAllClassesInSchool() {\n      this.classService.getAllClasses().subscribe(data => {\n        if (data.hasErrors === false) {\n          this.classes = data.payload;\n          // console.log(data.payload[0]);\n          this.attendance.getClassAttendanceForTeacher(data.payload[0].id).subscribe(res => {\n            if (res.hasErrors === false) {\n              this.attendanceList = res.payload.map(x => {\n                return {\n                  ...x.attendanceClassVms.map(el => {\n                    return {\n                      date: this.pipe.transform(el.attendanceDate, 'EEE'),\n                      student: x.studentId,\n                      attendanceStatus: el.attendanceStatus === 1 ? 'Present' : 'Absent'\n                    };\n                  })\n                };\n              }).flat(Infinity);\n              const flattenedArray = this.attendanceList.flatMap(item => {\n                return Object.values(item).map(entry => ({\n                  date: entry.date,\n                  student: entry.student,\n                  attendanceStatus: entry.attendanceStatus\n                }));\n              });\n              const groupedByDate = flattenedArray.reduce((acc, curr) => {\n                const date = curr.date;\n                acc[date] = acc[date] || {\n                  students: [],\n                  count: 0,\n                  present: 0,\n                  absent: 0\n                };\n                acc[date].students.push(curr);\n                acc[date].count++;\n                if (curr.attendanceStatus === 'Present') {\n                  acc[date].present++;\n                } else {\n                  acc[date].absent++;\n                }\n                return acc;\n              }, {});\n              this.createBarChart(groupedByDate);\n              // }\n            }\n          });\n        }\n      });\n    }\n    getClassAttendance(e) {\n      // // (e);\n      this.attendance.getClassAttendanceForTeacher(e).subscribe(res => {\n        if (res.hasErrors === false) {\n          this.attendanceList = res.payload.map(x => {\n            return {\n              ...x.attendanceClassVms.map(el => {\n                return {\n                  date: this.pipe.transform(el.attendanceDate, 'EEE'),\n                  student: x.studentId,\n                  attendanceStatus: el.attendanceStatus === 1 ? 'Present' : 'Absent'\n                };\n              })\n            };\n          }).flat(Infinity);\n          const flattenedArray = this.attendanceList.flatMap(item => {\n            return Object.values(item).map(entry => ({\n              date: entry.date,\n              student: entry.student,\n              attendanceStatus: entry.attendanceStatus\n            }));\n          });\n          const groupedByDate = flattenedArray.reduce((acc, curr) => {\n            const date = curr.date;\n            acc[date] = acc[date] || {\n              students: [],\n              count: 0,\n              present: 0,\n              absent: 0\n            };\n            acc[date].students.push(curr);\n            acc[date].count++;\n            if (curr.attendanceStatus === 'Present') {\n              acc[date].present++;\n            } else {\n              acc[date].absent++;\n            }\n            return acc;\n          }, {});\n          this.createBarChart(groupedByDate);\n          // }\n        }\n      });\n    }\n    getAllAlumiEvents() {\n      this.alumni.getAllEvents().subscribe(res => {\n        if (res.hasErrors === false) {\n          console.log('events', res.payload);\n          this.eventLists = res.payload;\n        }\n      });\n    }\n    createLineChart(dashboardData) {\n      const classTopics = ['Total Revenue', 'Amount Paid'];\n      this.chart = new Chart(this.lineChartRef.nativeElement, {\n        type: 'pie',\n        data: {\n          labels: classTopics,\n          datasets: [{\n            label: 'Revenue',\n            data: dashboardData,\n            // borderColor: ['#EA2604'],\n            // backgroundColor: ['#4288DC'],\n            backgroundColor: ['#e76f51', '#ffb638']\n            // hoverBorderColor: '#4288DC',\n            // hoverBorderWidth: 3\n          }]\n        },\n        options: {\n          responsive: true,\n          cutoutPercentage: 70,\n          legend: {\n            display: true,\n            labelString: 'Subject Attended'\n          },\n          scales: {\n            xAxes: [{\n              display: false,\n              scaleLabel: {\n                display: true,\n                labelString: 'Revenue Chart',\n                fontColor: 'black',\n                fontFamily: 'Nunito',\n                fontSize: 16\n              },\n              gridLines: {\n                display: true\n              }\n            }],\n            yAxes: [{\n              display: false,\n              scaleLabel: {\n                display: true,\n                // labelString: 'No of active users',\n                fontColor: 'black',\n                fontFamily: 'Nunito',\n                fontSize: 16\n              },\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                beginAtZero: true\n              }\n            }]\n          }\n        }\n      });\n    }\n    createBarChart(data) {\n      const dates = Object.keys(data);\n      const counts = dates.map(date => data[date].count);\n      const classTopics = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n      this.chart = new Chart(this.barChartRef.nativeElement, {\n        type: 'bar',\n        data: {\n          labels: dates,\n          datasets: [{\n            label: 'Attendance',\n            data: counts,\n            // borderColor: ['#EA2604'],\n            backgroundColor: ['#4288DC']\n            // backgroundColor: ['#e76f51', '#ffb638'],\n            // hoverBorderColor: '#4288DC',\n            // hoverBorderWidth: 3\n          }]\n        },\n        options: {\n          responsive: true,\n          cutoutPercentage: 70,\n          legend: {\n            display: true,\n            labelString: 'Class Attendance'\n          },\n          scales: {\n            xAxes: [{\n              stacked: true,\n              display: true,\n              scaleLabel: {\n                display: true,\n                labelString: 'Attendance Chart',\n                fontColor: 'black',\n                fontFamily: 'Nunito',\n                fontSize: 16\n              },\n              gridLines: {\n                display: true\n              }\n            }],\n            yAxes: [{\n              stacked: true,\n              display: true,\n              scaleLabel: {\n                display: true,\n                labelString: 'No of students',\n                fontColor: 'black',\n                fontFamily: 'Nunito',\n                fontSize: 16\n              },\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                beginAtZero: true\n              }\n            }]\n          }\n        }\n      });\n    }\n    // tslint:disable-next-line:variable-name\n    addCommas(number) {\n      const num = Number(number);\n      if (isNaN(num)) {\n        return number;\n      }\n      return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    getSubscriptionStatus() {\n      this.school.getSchoolSubscriptionStatusById(this.adminDetails.TenantId).subscribe(res => {\n        if (res.hasErrors === false) {\n          this.subscriptionStatus = res.payload;\n          this.notify();\n        }\n      });\n    }\n    notify() {\n      setTimeout(() => {\n        document.getElementById('popupBtn').click();\n      }, 2000);\n    }\n    static #_ = (() => this.ɵfac = function DashboardComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DashboardComponent)(i0.ɵɵdirectiveInject(i1.StudentService), i0.ɵɵdirectiveInject(i2.TeacherService), i0.ɵɵdirectiveInject(i3.StaffService), i0.ɵɵdirectiveInject(i4.FinanceService), i0.ɵɵdirectiveInject(i5.ClassService), i0.ɵɵdirectiveInject(i6.AttendanceService), i0.ɵɵdirectiveInject(i7.NotificationsService), i0.ɵɵdirectiveInject(i8.SchoolService), i0.ɵɵdirectiveInject(i9.AlumniService), i0.ɵɵdirectiveInject(i10.DatePipe));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      viewQuery: function DashboardComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 7);\n          i0.ɵɵviewQuery(_c1, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lineChartRef = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.barChartRef = _t.first);\n        }\n      },\n      features: [i0.ɵɵProvidersFeature([DatePipe])],\n      decls: 130,\n      vars: 19,\n      consts: [[\"barChart\", \"\"], [\"lineChart\", \"\"], [1, \"main\", \"mb-5\"], [1, \"banner\", \"mb-4\", \"d-flex\", \"justify-content-between\"], [1, \"banner__text-primary\", \"py-4\", \"pl-5\"], [1, \"justify-content-end\"], [1, \"last-login\", \"pt-3\", \"pr-5\", \"fw-6\"], [1, \"cards\", \"mb-4\", 3, \"hidden\"], [1, \"revenue\"], [\"src\", \"assets/images/svg/school-amount.png\", \"alt\", \"card revenue icon\", 1, \"justify-items-end\"], [1, \"revenue__text\", \"pt-4\"], [1, \"pr-4\"], [1, \"pt-1\"], [1, \"schools\"], [\"src\", \"assets/images/svg/school-students.png\", \"alt\", \"card school icon\"], [1, \"revenue__text\"], [1, \"pt-3\", \"pr-4\"], [1, \"students\"], [\"src\", \"assets/images/svg/school-staff.png\", \"alt\", \"number of students icon\"], [1, \"sms\"], [\"src\", \"assets/images/svg/school-sms.png\", \"alt\", \"total sms used icon\"], [1, \"info\"], [1, \"info__school\"], [1, \"info__school-info\"], [1, \"line\"], [1, \"btn-see-all\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-3\"], [1, \"col-md-12\", \"mt-4\", 2, \"position\", \"relative\", \"height\", \"45vh\"], [\"role\", \"img\"], [1, \"info__chart\"], [1, \"info__chart-info\"], [1, \"line2\"], [1, \"row\", \"mt-3\", 3, \"hidden\"], [1, \"pl-4\"], [\"routerLink\", \"/school/time-table\", 1, \"btn-see-all\"], [\"routerLink\", \"/school/time-table\", 1, \"pl-4\"], [1, \"col-md-12\", \"mt-4\"], [1, \"table\", \"table-borderless\"], [\"scope\", \"col\", 1, \"head\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"popupBtn\", \"data-target\", \"#advertModal\", \"data-toggle\", \"modal\", 2, \"display\", \"none\"], [\"id\", \"advertModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"advertModalTitle\", \"aria-hidden\", \"true\", \"data-backdrop\", \"static\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\", \"modal-length\"], [1, \"modal-content\"], [1, \"modal-head\", \"mb-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"modal-title\", \"fc-lblue\"], [\"src\", \"assets/images/svg/close-modal.svg\", \"alt\", \"modal close button\", \"id\", \"myModal\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", \"mr-4\", \"mt-4\"], [1, \"modal-body\", \"h-50\", \"d-flex\", \"justify-content-between\", \"align-items-center\", \"client-modal\"], [1, \"text-danger\", \"text-center\", \"mb-5\"], [3, \"value\"], [\"scope\", \"row\", 1, \"logo\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 2)(1, \"section\", 3)(2, \"p\", 4);\n          i0.ɵɵtext(3);\n          i0.ɵɵelement(4, \"br\");\n          i0.ɵɵelementStart(5, \"span\");\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"p\", 6);\n          i0.ɵɵtext(9);\n          i0.ɵɵpipe(10, \"date\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"section\", 7)(12, \"div\", 8);\n          i0.ɵɵelement(13, \"img\", 9);\n          i0.ɵɵelementStart(14, \"div\", 10)(15, \"h6\", 11);\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"p\", 12);\n          i0.ɵɵtext(18, \"NGN\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"p\");\n          i0.ɵɵtext(20, \"Total Money Paid\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 13);\n          i0.ɵɵelement(22, \"img\", 14);\n          i0.ɵɵelementStart(23, \"div\", 15)(24, \"h6\", 16);\n          i0.ɵɵtext(25);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"p\");\n          i0.ɵɵtext(27, \"Registered Student\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 17);\n          i0.ɵɵelement(29, \"img\", 18);\n          i0.ɵɵelementStart(30, \"div\", 15)(31, \"h6\", 16);\n          i0.ɵɵtext(32);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"p\");\n          i0.ɵɵtext(34, \"No. of Employee\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 19);\n          i0.ɵɵelement(36, \"img\", 20);\n          i0.ɵɵelementStart(37, \"div\", 15)(38, \"h6\", 16);\n          i0.ɵɵtext(39, \"0\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(40, \"p\");\n          i0.ɵɵtext(41, \"SMS Units Sold\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(42, \"section\", 21)(43, \"div\", 22)(44, \"div\", 23)(45, \"div\", 24)(46, \"h6\");\n          i0.ɵɵtext(47, \" School Attendance\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"p\");\n          i0.ɵɵtext(49, \"See up to date student attendance on the application\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(50, \"select\", 25);\n          i0.ɵɵlistener(\"change\", function DashboardComponent_Template_select_change_50_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.getClassAttendance($event.target.value));\n          });\n          i0.ɵɵelementStart(51, \"option\", 26);\n          i0.ɵɵtext(52, \"Select\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(53, DashboardComponent_option_53_Template, 2, 2, \"option\", 27);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(54, \"div\", 28)(55, \"div\", 29)(56, \"canvas\", 30, 0);\n          i0.ɵɵtext(58);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(59, \"div\", 31)(60, \"div\", 32)(61, \"div\", 33)(62, \"h6\");\n          i0.ɵɵtext(63, \" Revenue \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"p\");\n          i0.ɵɵtext(65, \"See school revenue in graphical format\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(66, \"div\");\n          i0.ɵɵtext(67, \" \\u00A0\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(68, \"div\", 34)(69, \"div\", 29)(70, \"canvas\", 30, 1);\n          i0.ɵɵtext(72);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(73, \"div\", 34)(74, \"div\", 29)(75, \"p\", 35);\n          i0.ɵɵtext(76, \"Revenue data cannot be fetched for this user\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(77, \"section\", 21)(78, \"div\", 22)(79, \"div\", 23)(80, \"div\", 24)(81, \"h6\");\n          i0.ɵɵtext(82, \" Time Table\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(83, \"p\");\n          i0.ɵɵtext(84, \"View time table according to period\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(85, \"button\", 36);\n          i0.ɵɵtext(86, \"See all\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(87, \"div\", 34)(88, \"div\", 29)(89, \"p\", 37);\n          i0.ɵɵtext(90, \"Click to view time table\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(91, \"div\", 34)(92, \"div\", 29)(93, \"p\", 37);\n          i0.ɵɵtext(94, \"Click to view time table\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(95, \"div\", 31)(96, \"div\", 32)(97, \"div\", 33)(98, \"h6\");\n          i0.ɵɵtext(99, \" Alumni Events \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(100, \"p\");\n          i0.ɵɵtext(101, \"See current alumni events\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(102, \"div\");\n          i0.ɵɵtext(103, \" \\u00A0\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(104, \"div\", 28)(105, \"div\", 38)(106, \"table\", 39)(107, \"thead\")(108, \"tr\")(109, \"th\", 40);\n          i0.ɵɵtext(110, \"S/N\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(111, \"th\", 41);\n          i0.ɵɵtext(112, \"Event\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(113, \"th\", 41);\n          i0.ɵɵtext(114, \"Start Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(115, \"th\", 41);\n          i0.ɵɵtext(116, \"Type\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(117, \"tbody\");\n          i0.ɵɵtemplate(118, DashboardComponent_tr_118_Template, 11, 7, \"tr\", 42);\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelement(119, \"button\", 43);\n          i0.ɵɵelementStart(120, \"div\", 44)(121, \"div\", 45)(122, \"div\", 46)(123, \"div\", 47)(124, \"div\", 48);\n          i0.ɵɵelement(125, \"h6\", 49)(126, \"img\", 50);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(127, \"div\", 51)(128, \"h1\", 52);\n          i0.ɵɵtext(129);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          const barChart_r4 = i0.ɵɵreference(57);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", ctx.greet, \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", ctx.adminDetails.given_name, \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Last Login: \", i0.ɵɵpipeBind2(10, 16, ctx.loginDate, \"medium\"), \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"hidden\", (ctx.adminDetails == null ? null : ctx.adminDetails.UserType) !== \"SchoolAdmin\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.addCommas(ctx.allFee));\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\" \", ctx.studentCount, \" \");\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.staffCount + ctx.staffCount2);\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"ngForOf\", ctx.classes);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", barChart_r4, \" \");\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"hidden\", (ctx.adminDetails == null ? null : ctx.adminDetails.UserType) !== \"SchoolAdmin\" || ctx.allowFinanceModule !== true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.chart, \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"hidden\", (ctx.adminDetails == null ? null : ctx.adminDetails.UserType) === \"SchoolAdmin\" || ctx.allowFinanceModule === true);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"hidden\", (ctx.adminDetails == null ? null : ctx.adminDetails.UserType) !== \"SchoolAdmin\" || ctx.allowFinanceModule !== true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"hidden\", (ctx.adminDetails == null ? null : ctx.adminDetails.UserType) === \"SchoolAdmin\" || ctx.allowFinanceModule === true);\n          i0.ɵɵadvance(27);\n          i0.ɵɵproperty(\"ngForOf\", ctx.eventLists == null ? null : ctx.eventLists.slice(0, 5));\n          i0.ɵɵadvance(11);\n          i0.ɵɵtextInterpolate1(\" \", ctx.subscriptionStatus, \" \");\n        }\n      },\n      dependencies: [i10.NgForOf, i11.NgSelectOption, i11.ɵNgSelectMultipleOption, i12.RouterLink, i10.DatePipe],\n      styles: [\".main[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;background-image:url(banner.svg);background-repeat:no-repeat;background-size:cover;border-radius:10px}.banner[_ngcontent-%COMP%]   .banner__text-primary[_ngcontent-%COMP%]{color:#04aed4;font-size:32px;font-family:Nunito;font-weight:200}.banner[_ngcontent-%COMP%]   .banner__text-primary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:32px;font-weight:400}.last-login[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-family:Nunito}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1.5rem;justify-content:space-between;margin-top:2.2rem}.cards[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1.9rem 1.5rem 1rem;font-family:Nunito}.cards[_ngcontent-%COMP%]   .revenue[_ngcontent-%COMP%]{background:#0b8e88;box-shadow:0 10px 20px #0b8e8833;border-radius:10px;color:#d9fcfa}.revenue__text[_ngcontent-%COMP%]{display:flex;align-items:center}.revenue__text[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:44px}.cards[_ngcontent-%COMP%]   .schools[_ngcontent-%COMP%]{background:#018fcb;box-shadow:0 10px 20px #018fcb33;border-radius:10px;color:#d6f3ff}.cards[_ngcontent-%COMP%]   .students[_ngcontent-%COMP%]{background:#e78413;box-shadow:0 10px 20px #018fcb33;border-radius:10px;color:#fdf5ed}.cards[_ngcontent-%COMP%]   .sms[_ngcontent-%COMP%]{background:#f05f5c;box-shadow:0 10px 20px #018fcb33;border-radius:10px;color:#fde8e8}.info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.25fr 1fr;grid-gap:1.4rem;justify-content:space-between;margin-top:2.2rem}.info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;box-shadow:0 20px 40px #d3dce766;border-radius:10px;font-family:Nunito}.info__school[_ngcontent-%COMP%]   .info__school-info[_ngcontent-%COMP%], .info__chart[_ngcontent-%COMP%]   .info__chart-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:2rem 1.5rem 1rem}.info__school[_ngcontent-%COMP%]   .info__school-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .info__chart[_ngcontent-%COMP%]   .info__chart-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#0a1128;font-weight:600;font-size:18px}.info__school[_ngcontent-%COMP%]   .info__school-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .info__chart[_ngcontent-%COMP%]   .info__chart-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0a1128;font-weight:400;font-size:14px}.info__school-info[_ngcontent-%COMP%]   .btn-see-all[_ngcontent-%COMP%]{background:#f0f1f4;border-radius:100px;border:none;outline:none;padding:2px 25px;color:#243c67}.info__school[_ngcontent-%COMP%]   .info__school-info[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:relative;width:80%}.info__school[_ngcontent-%COMP%]   .info__school-info[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;width:80%;height:2px;background:#04aed4;left:0;bottom:0}.info__school[_ngcontent-%COMP%]   .info__school-info[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;width:100%;height:2px;background:#fb882c4d;left:0;bottom:0}.info__school[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0a1128;font-weight:600;padding-left:1.5rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0a1128;margin-bottom:0;font-weight:600}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-bottom:1px solid #e1e3ea;color:#133960;opacity:.6;font-weight:400;display:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-left:1.5rem;font-weight:400}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f6f7f9}.info__chart[_ngcontent-%COMP%]   .info__chart-info[_ngcontent-%COMP%]   .line2[_ngcontent-%COMP%]{position:relative;width:100%}.info__chart[_ngcontent-%COMP%]   .info__chart-info[_ngcontent-%COMP%]   .line2[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;width:80%;height:2px;background:#04aed4;left:0;bottom:0}.info__chart[_ngcontent-%COMP%]   .info__chart-info[_ngcontent-%COMP%]   .line2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:88%;height:2px;background:#fb882c4d;left:34px;bottom:0}.row-sizing[_ngcontent-%COMP%]{padding:1.5rem 4rem 1rem 2rem}.image-rounded[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:cover}.e-calendar[_ngcontent-%COMP%], .e-bigger.e-small[_ngcontent-%COMP%]   .e-calendar[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.12);box-shadow:none;margin:auto}.e-calendar[_ngcontent-%COMP%], .e-bigger.e-small[_ngcontent-%COMP%]   .e-calendar[_ngcontent-%COMP%]{max-width:648px;min-width:240px;padding:0}@media screen and (max-width: 600px){.cards[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}.modal-head[_ngcontent-%COMP%]{padding:20px 40px;background:#ebf0f5}.modal-content[_ngcontent-%COMP%]{border-radius:0!important;border:none;position:relative}.close[_ngcontent-%COMP%]{cursor:pointer}}\"]\n    }))();\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}