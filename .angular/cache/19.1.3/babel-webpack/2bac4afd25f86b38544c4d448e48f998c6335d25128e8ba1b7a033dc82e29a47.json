{"ast":null,"code":"import { JwtHelperService } from '@auth0/angular-jwt';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/data/reporting/reporting.service\";\nimport * as i2 from \"src/services/data/subject/subject.service\";\nimport * as i3 from \"src/services/data/student/student.service\";\nimport * as i4 from \"src/services/data/school-section/school-section.service\";\nimport * as i5 from \"src/services/data/assessment/assessment.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nfunction ReportComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ReportComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.downloadStudentAttendanceReport());\n    });\n    i0.ɵɵtext(1, \" Export \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ReportComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.downloadStudentAttendanceReportInPdf());\n    });\n    i0.ɵɵtext(1, \" Export PDF \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const report_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", report_r4.slug);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(report_r4.title);\n  }\n}\nfunction ReportComponent_div_22_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const report_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", report_r6.subSlug);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(report_r6.title);\n  }\n}\nfunction ReportComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"label\", 11);\n    i0.ɵɵtext(2, \"Report Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 12);\n    i0.ɵɵlistener(\"change\", function ReportComponent_div_22_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.selectReportType($event.target.value));\n    });\n    i0.ɵɵelementStart(4, \"option\", 13);\n    i0.ɵɵtext(5, \"Report Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ReportComponent_div_22_option_6_Template, 2, 2, \"option\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.selectedReportType);\n  }\n}\nfunction ReportComponent_div_23_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const term_r8 = ctx.$implicit;\n    const t_r9 = ctx.index;\n    i0.ɵɵproperty(\"value\", t_r9);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(term_r8.name);\n  }\n}\nfunction ReportComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"label\", 11);\n    i0.ɵɵtext(2, \"Term\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 12);\n    i0.ɵɵlistener(\"change\", function ReportComponent_div_23_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.selectTerm($event.target.value));\n    });\n    i0.ɵɵelementStart(4, \"option\", 13);\n    i0.ɵɵtext(5, \"Select term\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ReportComponent_div_23_option_6_Template, 2, 2, \"option\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.termList);\n  }\n}\nfunction ReportComponent_div_24_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subject_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", subject_r11.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(subject_r11.name);\n  }\n}\nfunction ReportComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"label\", 11);\n    i0.ɵɵtext(2, \"Subject\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 12);\n    i0.ɵɵlistener(\"change\", function ReportComponent_div_24_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.selectSubject($event.target.value));\n    });\n    i0.ɵɵelementStart(4, \"option\", 13);\n    i0.ɵɵtext(5, \"Select subject\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ReportComponent_div_24_option_6_Template, 2, 2, \"option\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.subjectList);\n  }\n}\nfunction ReportComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"label\", 11);\n    i0.ɵɵtext(2, \"Start Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function ReportComponent_div_25_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getStartDate($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"label\", 11);\n    i0.ɵɵtext(2, \"End Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function ReportComponent_div_26_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getEndDate($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"label\", 11);\n    i0.ɵɵtext(2, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function ReportComponent_div_27_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getDate($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportComponent_ng_container_28_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"p\", 24);\n    i0.ɵɵtext(2, \" No attendance record found \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportComponent_ng_container_28_section_2_tr_11_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 34);\n    i0.ɵɵtext(1, \"Present\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportComponent_ng_container_28_section_2_tr_11_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵtext(1, \"Absent\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportComponent_ng_container_28_section_2_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 30)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 31);\n    i0.ɵɵtemplate(5, ReportComponent_ng_container_28_section_2_tr_11_span_5_Template, 2, 0, \"span\", 32)(6, ReportComponent_ng_container_28_section_2_tr_11_span_6_Template, 2, 0, \"span\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const attendance_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, attendance_r15 == null ? null : attendance_r15.attendanceDate));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (attendance_r15 == null ? null : attendance_r15.attendanceStatus) == 1);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (attendance_r15 == null ? null : attendance_r15.attendanceStatus) == 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(attendance_r15 == null ? null : attendance_r15.reason);\n  }\n}\nfunction ReportComponent_ng_container_28_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 25)(1, \"table\", 26)(2, \"thead\")(3, \"tr\")(4, \"th\", 27);\n    i0.ɵɵtext(5, \"Attendance Date \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 28);\n    i0.ɵɵtext(7, \"Status \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 28);\n    i0.ɵɵtext(9, \"Reason \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, ReportComponent_ng_container_28_section_2_tr_11_Template, 9, 6, \"tr\", 29);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.classAttendance);\n  }\n}\nfunction ReportComponent_ng_container_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ReportComponent_ng_container_28_div_1_Template, 3, 0, \"div\", 21)(2, ReportComponent_ng_container_28_section_2_Template, 12, 1, \"section\", 22);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.classAttendance || ctx_r1.classAttendance.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.classAttendance && ctx_r1.classAttendance.length);\n  }\n}\nfunction ReportComponent_ng_container_29_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"p\", 24);\n    i0.ɵɵtext(2, \" No attendance record found \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportComponent_ng_container_29_section_2_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 30)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 4);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const subject_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subject_r16 == null ? null : subject_r16.subjectName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subject_r16 == null ? null : subject_r16.noOfTImesHeld);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subject_r16 == null ? null : subject_r16.noOfTimesAttended);\n  }\n}\nfunction ReportComponent_ng_container_29_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 37)(1, \"table\", 26)(2, \"thead\")(3, \"tr\")(4, \"th\", 27);\n    i0.ɵɵtext(5, \"Subject Name \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 28);\n    i0.ɵɵtext(7, \"No. of times held \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 28);\n    i0.ɵɵtext(9, \"No. of time attended \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, ReportComponent_ng_container_29_section_2_tr_11_Template, 7, 3, \"tr\", 29);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.subjectRecord);\n  }\n}\nfunction ReportComponent_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ReportComponent_ng_container_29_div_1_Template, 3, 0, \"div\", 21)(2, ReportComponent_ng_container_29_section_2_Template, 12, 1, \"section\", 36);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.subjectRecord || !ctx_r1.subjectRecord.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.subjectRecord == null ? null : ctx_r1.subjectRecord.length);\n  }\n}\nfunction ReportComponent_ng_container_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"p\", 24);\n    i0.ɵɵtext(2, \" No attendance record found \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportComponent_ng_container_30_section_2_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 40)(1, \"td\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 31);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const attendance_r17 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", attendance_r17.studentId, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(attendance_r17.noOfTimesPresent);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", attendance_r17.noOfTimesAbsent, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(attendance_r17.totalNoOfSchoolDays);\n  }\n}\nfunction ReportComponent_ng_container_30_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 37)(1, \"table\", 26)(2, \"thead\")(3, \"th\", 38);\n    i0.ɵɵtext(4, \"Student ID \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 28);\n    i0.ɵɵtext(6, \"No of Time Present \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 28);\n    i0.ɵɵtext(8, \"No of Time Absent \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 28);\n    i0.ɵɵtext(10, \"Total No of School Days \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, ReportComponent_ng_container_30_section_2_tr_12_Template, 9, 4, \"tr\", 39);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.studentRecord);\n  }\n}\nfunction ReportComponent_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ReportComponent_ng_container_30_div_1_Template, 3, 0, \"div\", 21)(2, ReportComponent_ng_container_30_section_2_Template, 13, 1, \"section\", 36);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.studentRecord || !ctx_r1.studentRecord.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.studentRecord);\n  }\n}\nexport let ReportComponent = /*#__PURE__*/(() => {\n  class ReportComponent {\n    constructor(reportService, subjectService, studentService, schoolSectionService, assessmentService) {\n      this.reportService = reportService;\n      this.subjectService = subjectService;\n      this.studentService = studentService;\n      this.schoolSectionService = schoolSectionService;\n      this.assessmentService = assessmentService;\n      this.reportingOptions = [{\n        id: 1,\n        title: 'Attendance Report',\n        slug: 'attendanceReport',\n        data: [{\n          id: 1,\n          title: 'Class Attendance',\n          subSlug: 'classAttendance'\n        }, {\n          id: 2,\n          title: 'Subject Attendance',\n          subSlug: 'subjectAttendance'\n        }, {\n          id: 3,\n          title: 'Attendance Summary',\n          subSlug: 'attendanceSummary'\n        }]\n      }];\n      this.selectedStartDate = '';\n      this.selectedEndDate = '';\n    }\n    ngOnInit() {\n      this.getStudentByID();\n      this.fetchStudentbyId();\n    }\n    getStudentByID() {\n      const helper = new JwtHelperService();\n      this.studentId = helper.decodeToken(localStorage.getItem('access_token'));\n      this.studentUserId = this.studentId.sub;\n      this.studentClassId = this.studentId.StudentClassId;\n      this.tenantId = this.studentId.tenantId;\n    }\n    fetchStudentbyId() {\n      this.studentService.getStudentProfile(this.studentUserId).subscribe(res => {\n        if (res.hasErrors === false) {\n          this.id = res.payload.id;\n        }\n      });\n    }\n    getReportType(event) {\n      this.reportingOptions.forEach(item => {\n        if (item.slug === event) {\n          this.selectedSlug = item.slug;\n          this.selectedReportType = item.data;\n          this.showTypes = true;\n        }\n      });\n    }\n    selectReportType(event) {\n      this.selectedSubReport = event;\n      if (this.selectedSlug === 'attendanceReport') {\n        this.showNext = true;\n        event === 'classAttendance' ? (this.subSlug = true, this.showExportBtn = true, this.showSubject = false, this.getStudentClassAttendance(), this.showNext = true, this.showTerm = true, this.getAllTerm()) : event === 'subjectAttendance' ? (this.showExportBtn = true, this.showSubject = true, this.getAllSubjects(), this.showTerm = true, this.getSubjectAttendance(), this.showNext = false, this.showDate = true, this.getAllTerm()) : event === 'attendanceSummary' ? (this.showExportBtn = false, this.showSubject = false, this.showNext = false, this.showTerm = true, this.getAllTerm(), this.getStudentAttendanceSummary()) : this.showNext = false;\n      }\n    }\n    getStartDate(event) {\n      this.selectedStartDate = event;\n      this.getStudentClassAttendance();\n    }\n    getEndDate(event) {\n      this.selectedEndDate = event;\n      this.getStudentClassAttendance();\n    }\n    getDate(event) {\n      this.selectedDate = event;\n      this.getSubjectAttendance();\n    }\n    selectSubject(event) {\n      this.subjectId = event;\n      this.getSubjectAttendance();\n    }\n    selectTerm(event) {\n      const {\n        startDate,\n        endDate\n      } = this.termList[event];\n      this.selectedStartDate = startDate;\n      this.selectedEndDate = endDate;\n      this.selectedDate = startDate;\n      this.getStudentClassAttendance();\n      this.getSubjectAttendance();\n    }\n    getAllSubjects() {\n      this.subjectService.getAllSubjects().subscribe(data => {\n        if (data.hasErrors === false) {\n          this.subjectList = data.payload;\n        }\n      });\n    }\n    getSubjectAttendance() {\n      this.reportService.getStudentAttendanceForSubject(this.id, this.studentUserId, this.subjectId, this.selectedDate).subscribe(data => {\n        if (!data.hasErrors) {\n          this.subjectRecord = data.payload;\n        } else {\n          this.subjectRecord = undefined;\n        }\n      });\n    }\n    getStudentClassAttendance() {\n      this.reportService.getStudentAttendanceForClass(this.id, this.studentUserId, this.studentClassId, this.selectedStartDate, this.selectedEndDate).subscribe(data => {\n        if (data.hasErrors === false && data.payload.length !== 0) {\n          this.classAttendance = data.payload[0].attendanceClassVms;\n        } else {\n          this.classAttendance = undefined;\n        }\n      });\n    }\n    getStudentAttendanceSummary() {\n      this.reportService.getStudentAttendanceSummary(this.id, this.studentClassId).subscribe(res => {\n        if (res.hasErrors === false) {\n          this.studentRecord = res.payload;\n        }\n      });\n    }\n    getAllTerm() {\n      this.assessmentService.getSchoolSessions().subscribe(data => {\n        if (data.hasErrors === false) {\n          this.sessions = data.payload;\n          this.termList = data.payload[0].terms;\n        }\n      });\n    }\n    downloadStudentAttendanceReport() {\n      this.selectedSubReport === 'classAttendance' ? this.downloadStudentAttendanceByClassReport() : this.downloadStudentAttendanceBySubjectReport();\n    }\n    downloadStudentAttendanceByClassReport() {\n      this.reportService.exportSingleStudentAttendanceByClassExcel(this.id, this.studentUserId, this.classId, this.selectedStartDate, this.selectedEndDate).subscribe(res => {\n        if (res.hasErrors === false) {\n          const link = document.createElement('a');\n          link.download = `${res.payload.fileName} Report as at ${new Date().toLocaleString()}.xlsx`;\n          link.href = 'data:image/png;base64,' + res.payload.base64String;\n          link.click();\n        }\n      });\n    }\n    downloadStudentAttendanceBySubjectReport() {\n      this.reportService.exportSingleStudentAttendanceBySubjectExcel(this.id, this.studentUserId, this.subjectId, this.selectedDate).subscribe(res => {\n        if (res.hasErrors === false) {\n          const link = document.createElement('a');\n          link.download = `${res.payload.fileName} Report as at ${new Date().toLocaleString()}.xlsx`;\n          link.href = 'data:image/png;base64,' + res.payload.base64String;\n          link.click();\n        }\n      });\n    }\n    downloadStudentAttendanceReportInPdf() {\n      this.selectedSubReport === 'classAttendance' ? this.downloadStudentAttendanceReportByClassInPdf() : this.downloadStudentAttendanceReportBySubjectInPdf();\n    }\n    downloadStudentAttendanceReportByClassInPdf() {\n      this.reportService.exportSingleStudentAttendanceByClassPdf(this.id, this.studentUserId, this.classId, this.selectedStartDate, this.selectedEndDate).subscribe(res => {\n        if (res.hasErrors === false) {\n          const link = document.createElement('a');\n          link.download = `${res.payload.fileName} Report as at ${new Date().toLocaleString()}.pdf`;\n          link.href = 'data:image/png;base64,' + res.payload.base64String;\n          link.click();\n        }\n      });\n    }\n    downloadStudentAttendanceReportBySubjectInPdf() {\n      this.reportService.exportSingleStudentAttendanceBySubjectPdf(this.id, this.studentUserId, this.subjectId, this.selectedDate).subscribe(res => {\n        if (res.hasErrors === false) {\n          const link = document.createElement('a');\n          link.download = `${res.payload.fileName} Report as at ${new Date().toLocaleString()}.pdf`;\n          link.href = 'data:image/png;base64,' + res.payload.base64String;\n          link.click();\n        }\n      });\n    }\n    static #_ = (() => this.ɵfac = function ReportComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ReportComponent)(i0.ɵɵdirectiveInject(i1.ReportingService), i0.ɵɵdirectiveInject(i2.SubjectService), i0.ɵɵdirectiveInject(i3.StudentService), i0.ɵɵdirectiveInject(i4.SchoolSectionService), i0.ɵɵdirectiveInject(i5.AssessmentService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ReportComponent,\n      selectors: [[\"app-report\"]],\n      decls: 31,\n      vars: 12,\n      consts: [[1, \"main\", \"mx-5\"], [1, \"banner\", \"mb-4\", \"pb-3\"], [1, \"pt-5\", \"pl-3\", \"content\"], [1, \"banner__text-primary\", \"fw-6\"], [1, \"\"], [1, \"d-flex\"], [\"class\", \"btn btn-orange-two mx-2 mx-lg-3 px-5 mb-4 mt-3\", 3, \"click\", 4, \"ngIf\"], [1, \"card\", \"bg-white\", \"mt-5\", \"px-3\", \"pb-3\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"pt-3\", \"mb-4\"], [1, \"row\"], [1, \"col\"], [\"for\", \"class\", 1, \"fs-12\", \"fw-6\"], [\"name\", \"\", \"id\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"change\"], [\"value\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col \", 4, \"ngIf\"], [\"class\", \"col\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"btn\", \"btn-orange-two\", \"mx-2\", \"mx-lg-3\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\"], [3, \"value\"], [\"type\", \"date\", 1, \"form-control\", 3, \"change\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"list table-responsive mb-5\", 4, \"ngIf\"], [1, \"empty-state\"], [1, \"text-center\", \"fs-24\", \"ff-a\"], [1, \"list\", \"table-responsive\", \"mb-5\"], [1, \"table\", \"table-borderless\", \"client-table\"], [\"scope\", \"col\", 1, \"head\"], [\"scope\", \"col\"], [\"class\", \"pb-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"pb-1\"], [1, \"rounded-right\"], [\"class\", \"status_active\", 4, \"ngIf\"], [\"class\", \"status_inactive\", 4, \"ngIf\"], [1, \"status_active\"], [1, \"status_inactive\"], [\"class\", \"list table-responsive mb-5 mt-3\", 4, \"ngIf\"], [1, \"list\", \"table-responsive\", \"mb-5\", \"mt-3\"], [\"scope\", \"col\", 1, \"\"], [\"class\", \"pb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"pb-2\"], [\"scope\", \"row\", 1, \"school-logo\", \"rounded-left\", \"fc-lblue\"]],\n      template: function ReportComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"h6\", 3);\n          i0.ɵɵtext(4, \" Reports \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 4);\n          i0.ɵɵtext(6, \" Directory of all reports \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5);\n          i0.ɵɵtemplate(8, ReportComponent_button_8_Template, 2, 0, \"button\", 6)(9, ReportComponent_button_9_Template, 2, 0, \"button\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"div\")(13, \"form\")(14, \"div\", 9)(15, \"div\", 10)(16, \"label\", 11);\n          i0.ɵɵtext(17, \"Report Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"select\", 12);\n          i0.ɵɵlistener(\"change\", function ReportComponent_Template_select_change_18_listener($event) {\n            return ctx.getReportType($event.target.value);\n          });\n          i0.ɵɵelementStart(19, \"option\", 13);\n          i0.ɵɵtext(20, \"Report Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(21, ReportComponent_option_21_Template, 2, 2, \"option\", 14);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(22, ReportComponent_div_22_Template, 7, 1, \"div\", 15)(23, ReportComponent_div_23_Template, 7, 1, \"div\", 15)(24, ReportComponent_div_24_Template, 7, 1, \"div\", 16)(25, ReportComponent_div_25_Template, 4, 0, \"div\", 15)(26, ReportComponent_div_26_Template, 4, 0, \"div\", 15)(27, ReportComponent_div_27_Template, 4, 0, \"div\", 15);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(28, ReportComponent_ng_container_28_Template, 3, 2, \"ng-container\", 17)(29, ReportComponent_ng_container_29_Template, 3, 2, \"ng-container\", 17)(30, ReportComponent_ng_container_30_Template, 3, 2, \"ng-container\", 17);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.showNext || ctx.showExportBtn);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showNext || ctx.showExportBtn);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngForOf\", ctx.reportingOptions);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showTypes);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showTerm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showSubject);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showNext);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showNext);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showDate);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedSlug === \"attendanceReport\" && ctx.selectedSubReport === \"classAttendance\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedSlug === \"attendanceReport\" && ctx.selectedSubReport === \"subjectAttendance\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedSlug === \"attendanceReport\" && ctx.selectedSubReport === \"attendanceSummary\");\n        }\n      },\n      dependencies: [i6.NgForOf, i6.NgIf, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.NgControlStatusGroup, i7.NgForm, i6.DatePipe],\n      styles: [\".banner[_ngcontent-%COMP%]{width:100%;background-image:url(client-banner.svg);background-repeat:no-repeat;background-color:#422610;background-size:cover;background-position:center;border-radius:10px;display:flex;justify-content:space-between;align-items:flex-end;padding:0 1.5rem;color:#fff;position:relative;background-blend-mode:multiply;mix-blend-mode:multiply;-webkit-backdrop-filter:opacity(.4);backdrop-filter:opacity(.4)}.banner__text-primary[_ngcontent-%COMP%]{font-size:36px}select[_ngcontent-%COMP%]{background:#fafafa;border:1px solid #92B5DD;font-size:14px}table.client-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 1em}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{color:#4c75bd}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:unset;padding:0}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;line-height:24px;font-size:15px}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-left:4.2rem}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .school-logo[_ngcontent-%COMP%]{color:#0a1128;font-weight:600;padding-left:1.5rem;position:relative;opacity:none}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .school-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:15px}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;box-shadow:10px 10px 30px #d3dce766;border-radius:5px}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#355691}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{color:#014d94;font-size:14px;font-weight:700}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){color:#0a1128}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .status_active[_ngcontent-%COMP%]{background:#ebfffa;border-radius:10px;color:#09b78a;font-weight:600;width:110px;height:26px;display:flex;justify-content:center;align-items:center;padding:17px 40px}.list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .status_inactive[_ngcontent-%COMP%]{background:#fae5e7;border-radius:10px;color:#d72638;font-weight:600;width:110px;height:26px;display:flex;justify-content:center;align-items:center;padding:17px 40px}\"]\n    }))();\n  }\n  return ReportComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}