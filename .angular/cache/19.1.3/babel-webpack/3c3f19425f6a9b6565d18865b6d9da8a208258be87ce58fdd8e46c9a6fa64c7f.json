{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { countries } from '../../../../services/utils/country.json';\nimport { FormArray } from '@angular/forms';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../employee.component\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction EducationComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9)(3, \"div\", 10)(4, \"label\", 11);\n    i0.ɵɵtext(5, \"School Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"label\", 13);\n    i0.ɵɵtext(9, \"Type \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"select\", 14)(11, \"option\", 15);\n    i0.ɵɵtext(12, \" Select \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 16);\n    i0.ɵɵtext(14, \"University\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"option\", 17);\n    i0.ɵɵtext(16, \"Polytechnic\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"option\", 18);\n    i0.ɵɵtext(18, \"Others\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"div\", 9)(20, \"div\", 10)(21, \"label\", 19);\n    i0.ɵɵtext(22, \"Start Date \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 20);\n    i0.ɵɵlistener(\"input\", function EducationComponent_div_2_Template_input_input_23_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getStartDate($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 10)(25, \"label\", 19);\n    i0.ɵɵtext(26, \"End Date \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"input\", 21);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroupName\", i_r3);\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"min\", ctx_r1.minDate);\n  }\n}\nexport let EducationComponent = /*#__PURE__*/(() => {\n  class EducationComponent {\n    constructor(home, fb, route) {\n      this.home = home;\n      this.fb = fb;\n      this.route = route;\n      this.countries = countries;\n      this.sendChildName = new EventEmitter();\n    }\n    ngOnInit() {\n      this.sendChildName.emit('Education');\n      this.populateEducationForm();\n      this.route.params.subscribe(param => {\n        if (!param.id) {\n          this.populateEducationForm();\n        } else {\n          this.sendChildName.emit('Education');\n          this.getProfileInformation();\n        }\n      });\n      this.getAActiveTab();\n    }\n    populateEducationForm() {\n      this.EmployeeEducationForm = this.fb.group({\n        EducationExperienceVMs: this.fb.array([this.createItem()])\n      });\n    }\n    nextStep() {\n      this.home.stepper(6);\n      sessionStorage.setItem('employee-education', JSON.stringify(this.EmployeeEducationForm.value));\n    }\n    prevStep() {\n      this.home.stepper(4);\n      // this.currentStep = document.getElementById('step-' + `${3 + 1}`);\n      // this.currentStep.classList.remove('active');\n    }\n    addEducation() {\n      this.items = this.EmployeeEducationForm.get('EducationExperienceVMs');\n      this.items.push(this.createItem());\n    }\n    createItem() {\n      return this.fb.group({\n        educationSchoolName: '',\n        educationSchoolQualification: '',\n        startDate: '',\n        endDate: ''\n      });\n    }\n    getStartDate(e) {\n      this.minDate = moment(e).format('YYYY-MM-DD');\n    }\n    getAActiveTab() {\n      this.educationalDetials = JSON.parse(sessionStorage.getItem('employee-education'));\n      if (sessionStorage.getItem('employee-education') !== null) {\n        // tslint:disable-next-line:max-line-length\n        this.EmployeeEducationForm.setControl('EducationExperienceVMs', this.setExistingComponent(this.educationalDetials.EducationExperienceVMs));\n      } else {}\n    }\n    getProfileInformation() {\n      const payload = JSON.parse(sessionStorage.getItem('all-employee-info'));\n      this.EmployeeEducationForm.setControl('EducationExperienceVMs', this.setExistingComponent(payload.educationExperienceVMs));\n    }\n    setExistingComponent(data) {\n      const payload = JSON.parse(sessionStorage.getItem('all-employee-info'));\n      const formArray = new FormArray([]);\n      for (const x of data) {\n        // // (x);\n        formArray.push(this.fb.group({\n          educationSchoolName: x.educationSchoolName,\n          educationSchoolQualification: x.educationSchoolQualification,\n          startDate: moment(x.startDate).format('YYYY-MM-DD'),\n          endDate: moment(x.endDate).format('YYYY-MM-DD')\n        }));\n      }\n      return formArray;\n    }\n    static #_ = (() => this.ɵfac = function EducationComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || EducationComponent)(i0.ɵɵdirectiveInject(i1.EmployeeComponent), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EducationComponent,\n      selectors: [[\"app-education\"]],\n      outputs: {\n        sendChildName: \"sendChildName\"\n      },\n      decls: 10,\n      vars: 3,\n      consts: [[1, \"basic-details\", \"mt-2\"], [3, \"formGroup\"], [\"formArrayName\", \"EducationExperienceVMs\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-orange-two\", \"mx-2\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\"], [1, \"d-flex\", \"justify-content-center\", \"mt-5\", \"mb-5\"], [1, \"btn\", \"btn-outline-orange\", \"mx-2\", \"mx-lg-3\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\"], [1, \"btn\", \"btn-orange-two\", \"mx-2\", \"mx-lg-3\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\", \"disabled\"], [\"formArrayName\", \"EducationExperienceVMs\"], [3, \"formGroupName\"], [1, \"form-row\", \"mb-5\"], [1, \"\"], [\"for\", \"school\", 1, \"fw-6\"], [\"type\", \"text\", \"id\", \"school\", \"placeholder\", \"Enter school name\", \"formControlName\", \"educationSchoolName\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"type\", 1, \"fw-6\"], [\"name\", \"\", \"id\", \"type\", \"formControlName\", \"educationSchoolQualification\", 1, \"form-control\", \"form-control-lg\"], [\"value\", \"\", \"selected\", \"\"], [\"value\", \"university\"], [\"value\", \"polytechnic\"], [\"value\", \"others\"], [\"for\", \"email\", 1, \"fw-6\"], [\"type\", \"date\", \"id\", \"from\", \"placeholder\", \"\", \"formControlName\", \"startDate\", 1, \"form-control\", \"form-control-lg\", 3, \"input\"], [\"type\", \"date\", \"id\", \"from\", \"placeholder\", \"\", \"formControlName\", \"endDate\", 1, \"form-control\", \"form-control-lg\", 3, \"min\"]],\n      template: function EducationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵtemplate(2, EducationComponent_div_2_Template, 28, 2, \"div\", 2);\n          i0.ɵɵelementStart(3, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function EducationComponent_Template_button_click_3_listener() {\n            return ctx.addEducation();\n          });\n          i0.ɵɵtext(4, \" Add More \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function EducationComponent_Template_button_click_6_listener() {\n            return ctx.prevStep();\n          });\n          i0.ɵɵtext(7, \" Back \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function EducationComponent_Template_button_click_8_listener() {\n            return ctx.nextStep();\n          });\n          i0.ɵɵtext(9, \" Next \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.EmployeeEducationForm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.EmployeeEducationForm.get(\"EducationExperienceVMs\")[\"controls\"]);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", ctx.EmployeeEducationForm.invalid);\n        }\n      },\n      dependencies: [i4.NgForOf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i2.FormGroupName, i2.FormArrayName],\n      styles: [\".form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:7rem}h6[_ngcontent-%COMP%]{font-weight:700;font-weight:600}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .custom-file-input[_ngcontent-%COMP%]{color:#000;font-size:16px;border:1px solid #D1D9DF}p[_ngcontent-%COMP%]{color:#000;font-size:14px}@media screen and (max-width: 820px){.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:2.5rem}}\"]\n    }))();\n  }\n  return EducationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}