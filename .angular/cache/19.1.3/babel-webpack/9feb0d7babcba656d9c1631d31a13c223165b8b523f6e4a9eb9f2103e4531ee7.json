{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators, FormArray } from '@angular/forms';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../employee.component\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction WorkExperienceComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9)(3, \"div\", 10)(4, \"label\", 11);\n    i0.ɵɵtext(5, \"Role \");\n    i0.ɵɵelementStart(6, \"span\", 12);\n    i0.ɵɵtext(7, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(8, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 10)(10, \"label\", 14);\n    i0.ɵɵtext(11, \"Company Name \");\n    i0.ɵɵelementStart(12, \"span\", 12);\n    i0.ɵɵtext(13, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(14, \"input\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 9)(16, \"div\", 10)(17, \"label\", 16);\n    i0.ɵɵtext(18, \"From \");\n    i0.ɵɵelementStart(19, \"span\", 12);\n    i0.ɵɵtext(20, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"input\", 17);\n    i0.ɵɵlistener(\"input\", function WorkExperienceComponent_div_2_Template_input_input_21_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getStartDate($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 10)(23, \"label\", 16);\n    i0.ɵɵtext(24, \"To \");\n    i0.ɵɵelementStart(25, \"span\", 12);\n    i0.ɵɵtext(26, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(27, \"input\", 18);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroupName\", i_r3);\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"min\", ctx_r1.minDate);\n  }\n}\nexport let WorkExperienceComponent = /*#__PURE__*/(() => {\n  class WorkExperienceComponent {\n    constructor(home, fb, route) {\n      this.home = home;\n      this.fb = fb;\n      this.route = route;\n      this.sendChildName = new EventEmitter();\n    }\n    ngOnInit() {\n      this.populateEmployeeExperienceForm();\n      this.route.params.subscribe(param => {\n        if (!param.id) {\n          this.populateEmployeeExperienceForm();\n        } else {\n          this.getProfileInformation();\n        }\n      });\n      this.getAActiveTab();\n    }\n    populateEmployeeExperienceForm() {\n      this.employeeWorkExperienceForm = this.fb.group({\n        WorkExperienceVMs: this.fb.array([this.createItem()])\n      });\n    }\n    nextStep() {\n      this.home.stepper(7);\n      sessionStorage.setItem('employee-experience', JSON.stringify(this.employeeWorkExperienceForm.value));\n    }\n    prevStep() {\n      this.home.stepper(5);\n      // this.currentStep = document.getElementById('step-' + `${3 + 1}`);\n      // this.currentStep.classList.remove('active');\n    }\n    createItem() {\n      return this.fb.group({\n        workRole: ['', Validators.required],\n        workCompanyName: ['', Validators.required],\n        startTime: ['', Validators.required],\n        endTime: ['', Validators.required]\n      });\n    }\n    getStartDate(e) {\n      this.minDate = moment(e).format('YYYY-MM-DD');\n    }\n    addExperience() {\n      this.items = this.employeeWorkExperienceForm.get('WorkExperienceVMs');\n      this.items.push(this.createItem());\n    }\n    getAActiveTab() {\n      this.workDetials = JSON.parse(sessionStorage.getItem('employee-experience'));\n      if (sessionStorage.getItem('employee-experience') !== null) {\n        // // (`School person exists`);\n        // this.employeeWorkExperienceForm.patchValue({\n        //   WorkExperienceVMs: this.workDetials.WorkExperienceVMs,\n        // });\n        this.employeeWorkExperienceForm.setControl('WorkExperienceVMs', this.setExistingComponent(this.workDetials.WorkExperienceVMs));\n      } else {}\n    }\n    getProfileInformation() {\n      const payload = JSON.parse(sessionStorage.getItem('all-employee-info'));\n      this.employeeWorkExperienceForm.setControl('WorkExperienceVMs', this.setExistingComponent(payload.workExperienceVMs));\n    }\n    setExistingComponent(data) {\n      const payload = JSON.parse(sessionStorage.getItem('all-employee-info'));\n      const formArray = new FormArray([]);\n      for (const x of data) {\n        // // (x);\n        formArray.push(this.fb.group({\n          workRole: x.workRole,\n          workCompanyName: x.workCompanyName,\n          startTime: moment(x.endDate).format('YYYY-MM-DD'),\n          endTime: moment(x.startDate).format('YYYY-MM-DD')\n        }));\n      }\n      return formArray;\n    }\n    static #_ = (() => this.ɵfac = function WorkExperienceComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || WorkExperienceComponent)(i0.ɵɵdirectiveInject(i1.EmployeeComponent), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: WorkExperienceComponent,\n      selectors: [[\"app-work-experience\"]],\n      outputs: {\n        sendChildName: \"sendChildName\"\n      },\n      decls: 10,\n      vars: 3,\n      consts: [[1, \"work-details\", \"mt-2\"], [3, \"formGroup\"], [\"formArrayName\", \"WorkExperienceVMs\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-orange-two\", \"mx-2\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\"], [1, \"d-flex\", \"justify-content-center\", \"mt-5\", \"mb-5\"], [1, \"btn\", \"btn-outline-orange\", \"mx-2\", \"mx-lg-3\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\"], [1, \"btn\", \"btn-orange-two\", \"mx-2\", \"mx-lg-3\", \"px-5\", \"mb-4\", \"mt-3\", 3, \"click\", \"disabled\"], [\"formArrayName\", \"WorkExperienceVMs\"], [3, \"formGroupName\"], [1, \"form-row\", \"mb-5\"], [1, \"\"], [\"for\", \"role\", 1, \"fw-6\"], [1, \"text-danger\"], [\"type\", \"text\", \"id\", \"role\", \"placeholder\", \"Enter role\", \"formControlName\", \"workRole\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"company\", 1, \"fw-6\"], [\"type\", \"text\", \"id\", \"company\", \"placeholder\", \"Enter company name\", \"formControlName\", \"workCompanyName\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"from\", 1, \"fw-6\"], [\"type\", \"date\", \"id\", \"from\", \"placeholder\", \"\", \"formControlName\", \"startTime\", 1, \"form-control\", \"form-control-lg\", 3, \"input\"], [\"type\", \"date\", \"id\", \"from\", \"placeholder\", \"\", \"formControlName\", \"endTime\", 1, \"form-control\", \"form-control-lg\", 3, \"min\"]],\n      template: function WorkExperienceComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵtemplate(2, WorkExperienceComponent_div_2_Template, 28, 2, \"div\", 2);\n          i0.ɵɵelementStart(3, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function WorkExperienceComponent_Template_button_click_3_listener() {\n            return ctx.addExperience();\n          });\n          i0.ɵɵtext(4, \" Add More \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function WorkExperienceComponent_Template_button_click_6_listener() {\n            return ctx.prevStep();\n          });\n          i0.ɵɵtext(7, \" Back \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function WorkExperienceComponent_Template_button_click_8_listener() {\n            return ctx.nextStep();\n          });\n          i0.ɵɵtext(9, \" Next \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.employeeWorkExperienceForm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.employeeWorkExperienceForm.get(\"WorkExperienceVMs\")[\"controls\"]);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", ctx.employeeWorkExperienceForm.invalid);\n        }\n      },\n      dependencies: [i4.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i2.FormGroupName, i2.FormArrayName],\n      styles: [\".form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:7rem}h6[_ngcontent-%COMP%]{font-weight:700;font-weight:600}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .custom-file-input[_ngcontent-%COMP%]{color:#000;font-size:16px;border:1px solid #D1D9DF}p[_ngcontent-%COMP%]{color:#000;font-size:14px}@media screen and (max-width: 820px){.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:2.5rem}}\"]\n    }))();\n  }\n  return WorkExperienceComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}