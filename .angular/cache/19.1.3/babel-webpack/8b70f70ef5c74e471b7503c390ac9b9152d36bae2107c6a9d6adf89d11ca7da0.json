{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./../../../services/classes/notifications/notifications.service\";\nimport * as i4 from \"src/services/data/auth/auth.service\";\nimport * as i5 from \"@angular/common\";\nfunction ForgotPasswordComponent_div_8_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Username is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ForgotPasswordComponent_div_8_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, ForgotPasswordComponent_div_8_div_12_div_1_Template, 2, 0, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.resetPasswordForm.controls.email.errors.required);\n  }\n}\nfunction ForgotPasswordComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 13)(2, \"p\", 14);\n    i0.ɵɵtext(3, \"Forgotten your password?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"form\", 16);\n    i0.ɵɵlistener(\"ngSubmit\", function ForgotPasswordComponent_div_8_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.resetPassword());\n    });\n    i0.ɵɵelementStart(6, \"div\", 17)(7, \"p\", 18);\n    i0.ɵɵtext(8, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"small\", 19);\n    i0.ɵɵtext(10, \"Please enter your user address in the box below.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 20);\n    i0.ɵɵtemplate(12, ForgotPasswordComponent_div_8_div_12_Template, 2, 1, \"div\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 17)(14, \"button\", 22);\n    i0.ɵɵtext(15, \"Reset Password\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 23)(17, \"p\", 24)(18, \"a\", 25);\n    i0.ɵɵtext(19, \"Go Back home\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.resetPasswordForm);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.submitted && ctx_r1.resetPasswordForm.controls.email.errors);\n  }\n}\nfunction ForgotPasswordComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelement(1, \"img\", 30);\n    i0.ɵɵelementStart(2, \"p\", 31);\n    i0.ɵɵtext(3, \" A password reset link has been sent to your email. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 24)(5, \"a\", 25);\n    i0.ɵɵtext(6, \"Log into Your Account\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let ForgotPasswordComponent = /*#__PURE__*/(() => {\n  class ForgotPasswordComponent {\n    constructor(fb, router, notifyService, authService) {\n      this.fb = fb;\n      this.router = router;\n      this.notifyService = notifyService;\n      this.authService = authService;\n      this.sent = false;\n      this.notSent = true;\n      this.submitted = false;\n    }\n    ngOnInit() {\n      this.resetPasswordForm = this.fb.group({\n        username: ['', Validators.required]\n      });\n    }\n    resetPassword() {\n      if (this.resetPasswordForm.invalid) {\n        this.submitted = true;\n        return;\n      } else {\n        this.authService.resetPassword(this.resetPasswordForm.value).subscribe(data => {\n          // const data = JSON.parse(res);\n          if (data.hasErrors === true) {\n            this.notifyService.publishMessages(data.errors, 'danger', 1);\n          } else {\n            // (data);\n            this.notSent = false;\n            this.sent = true;\n          }\n        });\n      }\n    }\n    static #_ = (() => this.ɵfac = function ForgotPasswordComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ForgotPasswordComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NotificationsService), i0.ɵɵdirectiveInject(i4.AuthService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ForgotPasswordComponent,\n      selectors: [[\"app-forgot-password\"]],\n      decls: 16,\n      vars: 2,\n      consts: [[1, \"\"], [1, \"kids\"], [1, \"container\"], [1, \"row\"], [1, \"col-12\", \"pt-lg-4\", \"pt-2\", \"mb-lg-5\", \"mb-3\"], [\"src\", \"assets/images/newLogo.png\", \"alt\", \"\", 2, \"width\", \"70px\", \"object-fit\", \"contain\"], [1, \"col-lg-6\", \"m-auto\"], [1, \"whitediv\", \"p-lg-5\", \"p-3\", \"mt-lg-5\", \"mt-3\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"resetdiv\", 4, \"ngIf\"], [1, \"foot\", \"bg-dark\", \"py-3\"], [1, \"fc-grey\", \"ff-a\", \"fs-12\", \"m-0\", \"text-center\"], [1, \"fw-6\", \"ls-7\"], [1, \"col-lg-7\", \"mb-3\"], [1, \"fs-30\", \"ff-n\", \"fw-6\"], [1, \"col-lg-12\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"col-lg-12\", \"mb-5\"], [\"for\", \"\", 1, \"fs-16\", \"ff-n\", \"fw-6\", \"fc-dark\", \"m-0\"], [1, \"fs-12\", \"ff-n\", \"fc-dark\", \"mb-3\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\", \"reg-form\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"btn\", \"btn-orange\", \"w-100\"], [1, \"col-12\"], [1, \"text-center\"], [\"routerLink\", \"/\", 1, \"fc-lblue\", \"fs-14\", \"fw-6\", \"ff-n\"], [1, \"error\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"resetdiv\"], [\"src\", \"assets/images/svg/svg-reset.svg\", \"alt\", \"\", 1, \"mb-5\"], [1, \"text-center\", \"fc-dark\", \"fs-30\", \"ff-n\", \"fw-6\", \"mb-5\"]],\n      template: function ForgotPasswordComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n          i0.ɵɵelement(5, \"img\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7);\n          i0.ɵɵtemplate(8, ForgotPasswordComponent_div_8_Template, 20, 2, \"div\", 8)(9, ForgotPasswordComponent_div_9_Template, 7, 0, \"div\", 9);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(10, \"div\", 10)(11, \"p\", 11);\n          i0.ɵɵtext(12, \" \\u00A9 2020. \");\n          i0.ɵɵelementStart(13, \"span\", 12);\n          i0.ɵɵtext(14, \"SchoolTrack\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(15, \" - All rights reserved \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.notSent);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.sent);\n        }\n      },\n      dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i2.RouterLink],\n      styles: [\".kids[_ngcontent-%COMP%]{background:url(kids.png);background-size:cover;min-height:93vh}.foot[_ngcontent-%COMP%]{height:7vh}.whitediv[_ngcontent-%COMP%]{background:#fff;box-shadow:0 20px 50px #0d2944;border-radius:10px}.resetdiv[_ngcontent-%COMP%]{height:40vh;display:flex;align-items:center;justify-content:center;flex-flow:column}\"]\n    }))();\n  }\n  return ForgotPasswordComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}